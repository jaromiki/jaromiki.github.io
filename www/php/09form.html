<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">	
	  <LINK href="css/style.css" type="text/css" rel=stylesheet>
	<title>Formulár</title>
</head>

<body>
<h2>Úvod do práce s formulármi</h2>
Pouívaním doteraz mono vytvára pekné scripty, ale èo nám chıba je zadávanie vstupnıch hodnôt do premennıch.
Ve¾mi dobrá cesta je spolupráca s html formulármi, ktoré html dokument odošle na server a PHP kód vyberie zo 
vstupnıch polí hodnoty a môe ich ïalej spracováva.
<br><br>
<h2>Práca s formulárom</h2>
Asi ste sa u stretli so stránkou, na ktorej treba vyplni nejaké údaje a odosla ich. Spracovanie nami zadanıch dát potom prebehne 
na serveri. Na spracovanie odosielanıch dát u jazyk html nestaèí, potrebujeme scriptovací jazyk na strane servera - najèastejšie PHP.
Teraz si popíšeme štruktúru formuláru a základy práce s formulárom.<br><br>
<b>Èo môe obsahova formulár:</b>
<ul>
<li>formátovanı text, obrázky - tieto slúia len ako pomôcka pri vypåòaní formulára - nebudú odoslané
<li>vstupné objekty (políèka) - ich obsah bude odoslanı na server
<li>tlaèítka<ul><li>všeobecné - akciu zviazanú s kliknutím naò urèíme my (napr. JavaScript)
				<li>odosielacie - jeho stlaèením sa dáta odošlú
				<li>resetovacie - jeho stlaèením sa nami zadané dáta vymaú zo vstupnıch políèok
			</ul>
</ul>	
<p style="background:#dddddd">
<h3>&lt;Form&gt; ... &lt;/Form&gt;</h3>
Tento príkaz urèuje ktoré vstupné objekty patria do tohoto formulára. Cez parametre je urèenı spôsob odoslania dát,
názov programu, ktorı spracuje odoslané dáta.
<dl><dt>Parametre
	<dd><ul><li>action = "subor"
	            <br>ak sa subor nachádza na tom istom serveri zadáme jeho názov alebo názov aj s cestou
			<li>action = "http://UrlServera/subor"
				<br>ak sa súbor nachádza na inom serveri 
			<li>metod = "get"
				<br>Odosielané dáta sa zapisujú do adresy spracovávajúcej stránky (sú všetky vidite¾né)
				<br>Dåka prenášanıch dát je limitovaná
				<br>Nemono prenáša súbory
			<li>metod = "post"
				<br>Odosielané dáta nie sú súèasou adresy (sú nevidite¾né pre uívate¾a)
				<br>spracovávajúca stránka sa nedá obnovi 
				<br>dåka dát je prakticky ¾ubovo¾ná
		</ul>
		<br>Pre naše cvièné úèely súbor na spracovanie vo¾te:
		<br><b>/informatika/html/ukaz.php</b> 
</dl>	
<h3>&lt;Input type=text&gt; </h3>
Tento vstupnı objekt pouívame na zadanie jednoriadkového textu. Mono poui aj na vstup èíselnıch hodnôt.
<dl><dt>Parametre
    <dd><ul><li>align =" ..."
			<br>Vıznam tohoto parametra je rovnakı ako pri zarvnávaní obrázkov
			<li>disabled
			<br>ak je tento parameter zadanı je políèko neaktívne (šedé), nedá sa doò zapisova
			<li>readonly
			<br>Podobne ako disabled, len nie je šedé
			<li>name=" ... "
			<br>meno potrebné na identifikáciu odoslanıch dát (musí by jedineèné vo form)
			<li>value = " ... "
			<br>Poèiatoèná hodnota vstupného políèka
			<li>id = " ..."
			<br>Meno platné v našej stránke - potrebné napríklad v JavaScripte (tu nepotrebné)
		</ul>	
</dl>		
<h3>&lt;Input type=password&gt; </h3>
Tento vstupnı objekt pouívame na zadanie jednoriadkového textu, pri písaní sa zobrazuje gulièka
<dl><dt>Parametre
    <dd><ul><li>align =" ..."
			<br>Vıznam tohoto parametra je rovnakı ako pri zarvnávaní obrázkov
			<li>disabled
			<br>ak je tento parameter zadanı je políèko neaktívne (šedé), nedá sa doò zapisova
			<li>readonly
			<br>Podobne ako disabled, len nie je šedé
			<li>name=" ... "
			<br>meno potrebné na identifikáciu odoslanıch dát (musí by jedineèné vo form)
			<li>value = " ... "
			<br>Poèiatoèná hodnota vstupného políèka
			<li>id = " ..."
			<br>Meno platné v našej stránke - potrebné napríklad v JavaScripte (tu nepotrebné)
		</ul>	
</dl>	
<h3>&lt;Input type=submit&gt;</h3>
Tento objekt-tlaèítko slúi na odoslanie údajov programu uvedeného v tagu FORM parameter action. Po jeho stlaèení sa automaticky zobrazí stránka
uvedená v parametri action. Tomuto parametru obyèajne zadávame len parameter Value.
<dl><dt>Parametre
    <dd><ul><li>Value =" ..."
			<br>zadaná hodnota bude napísaná na zobrazenom tlaèítku.
		</ul>	
</dl>
<h3>&lt;Input type=reset&gt;</h3>
Tento objekt-tlaèítko slúi na vymazanie zadanıch údajov zo vstupnıch políèok - políèka sa dajú do pôvodnej podoby.
Tomuto parametru obyèajne zadávame len parameter Value.
<dl><dt>Parametre
    <dd><ul><li>Value =" ..."
			<br>zadaná hodnota bude napísaná na zobrazenom tlaèítku.
		</ul>	
</dl>
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<table rules="cols" border="1" frame="void">
<tr><td  style="padding-left:5">
  <form method="get" action="ukaz.php">
  Ukáka:<br>
  <br>Meno: <input type="Text" name="meno" value="Sem zadaj meno" onfocus="this.value=''">
  <br>Heslo: <input type="Password" name="heslo" value="">
  <br>Škola: <input type="Text" name="skola" value="Sem zadaj školu" onfocus="this.value=''">
  <br><br><input type="Reset" value="Reset"> &nbsp; &nbsp;	<input type="SubMit" value="Odosla" name="odoslat">
  </form>
  <td style="padding-left:20">
    &lt;form method="get" action="ukaz.php">
  <br>Ukáka:&lt;br>
  <br>&lt;br>Meno: &lt;input type="Text" name="meno" value="Sem zadaj meno" onfocus="this.value=''">
  <br>&lt;br>Heslo &lt;input type="Password" name="heslo" value="">
  <br>&lt;br>Škola: &lt;input type="Text" name="skola" value="Sem zadaj školu" onfocus="this.value=''">
  <br>&lt;br>&lt;br>&lt;input type="Reset" value="Reset"> &nbsp; &nbsp;	&lt;input type="SubMit" value="Odosla"  name="odoslat">
  <br>&lt;/form>
  </tr>
</table>  
 </div> 
<h3>&lt;Input type=checkbox&gt;</h3>
Tento objekt (zaškrtávacie políèko) umoòuje jednoduchı vıber áno/nie. Uívate¾ sa rozhodne oznaèením vstupného políèka alebo ponechaním 
prázdneho. Zaškrtávacie políèka sú nezávislé a mono ich vybra aj viac. Odoslané budú len tie políèka, ktoré sú zaškrtnuté a ich hodnota
bude value políèka. 
<dl><dt>Parametre
    <dd><ul><li>Name =" ..."
			<br>Meno potrebné na identifikáciu odoslanıch dát.
			<li>Value = " ..." 
			<br>Hodnota odoslaná na  spracovávanie - pri oznaèení políèka
			<li>checked
			<br>Ak tento parameter nastavíme, bude políèko na zaèiatku zaškrtnuté
		</ul>
</dl>			
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<table rules="cols" border="1" frame="void">
<tr><td  style="padding-left:5">
  <form method="get" action="ukaz.php">
  Urèi svoje ob¾úbené predmety:<br>
  <br><input type="Checkbox" name="sj" value="Slovenskı jazyk">Slovenskı jazyk
  <br><input type="Checkbox" name="aj" value="Anglickı jazyk">Anglickı jazyk
  <br><input type="Checkbox" name="nj" value="Nemeckı jazyk">Nemeckı jazyk
  <br><input type="Checkbox" name="mat" value="Matematika">Matematika
  <br><input type="Checkbox" name="fyz" value="Fyzika">Fyzika
  <br><input type="Checkbox" name="Che" value="Chémia">Chémia
  <br><input type="Checkbox" name="bio" value="Biológia">Biológia
  <br><input type="Checkbox" name="inf" value="Informatika" checked>Informatika
  <br><input type="Checkbox" name="ine" value="Iné" >Iné: <input type="text" name="pred">
  <br><br><input type="Reset" value="Reset"> &nbsp; &nbsp;	<input type="SubMit" value="Odosla">
</form>
  <td style="padding-left:20">
  &lt;form method="get" action="ukaz.php">
  Urèi svoje ob¾úbené predmety:<br>
  <br>&lt;br>&lt;input type="Checkbox" name="sj" value="Slovenskı jazyk">Slovenskı jazyk
  <br>&lt;br>&lt;input type="Checkbox" name="aj" value="Anglickı jazyk">Anglickı jazyk
  <br>&lt;br>&lt;input type="Checkbox" name="nj" value="Nemeckı jazyk">Nemeckı jazyk
  <br>&lt;br>&lt;input type="Checkbox" name="mat" value="Matematika">Matematika
  <br>&lt;br>&lt;input type="Checkbox" name="fyz" value="Fyzika">Fyzika
  <br>&lt;br>&lt;input type="Checkbox" name="Che" value="Chémia">Chémia
  <br>&lt;br>&lt;input type="Checkbox" name="bio" value="Biológia">Biológia
  <br>&lt;br>&lt;input type="Checkbox" name="inf" value="Informatika" checked>Informatika
  <br>&lt;br>&lt;input type="Checkbox" name="ine" value="Iné" >Iné: &lt;input type="text" name="pred">
  <br>&lt;br>&lt;br>&lt;input type="Reset" value="Reset"> &nbsp; &nbsp;	&lt;input type="SubMit" value="Odosla">
<br>&lt;/form>
  </tr>
</table>  
 </div> 
Inı spôsob na zasielanie zaškrtnutıch políèok je takı, e všetky tieto políèka dostanú rovnaké meno (pole) a zaslané údaje budú zapísané 
v poli s indexami 0 ... (n-1).
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<table rules="cols" border="1" frame="void">
<tr><td  style="padding-left:5">
  <form method="get" action="ukaz.php">
  Urèi svoje ob¾úbené predmety:<br>
  <br><input type="Checkbox" name="predm[]" value="Slovenskı jazyk">Slovenskı jazyk
  <br><input type="Checkbox" name="predm[]" value="Anglickı jazyk">Anglickı jazyk
  <br><input type="Checkbox" name="predm[]" value="Nemeckı jazyk">Nemeckı jazyk
  <br><input type="Checkbox" name="predm[]" value="Matematika">Matematika
  <br><input type="Checkbox" name="predm[]" value="Fyzika">Fyzika
  <br><input type="Checkbox" name="predm[]" value="Chémia">Chémia
  <br><input type="Checkbox" name="predm[]" value="Biológia">Biológia
  <br><input type="Checkbox" name="predm[]" value="Informatika" checked>Informatika
  <br><input type="Checkbox" name="predm[]" value="Iné" >Iné: <input type="text" name="pred">
  <br><br><input type="Reset" value="Reset"> &nbsp; &nbsp;	<input type="SubMit" value="Odosla">
</form>
  <td style="padding-left:20">
  &lt;form method="get" action="ukaz.php">
  Urèi svoje ob¾úbené predmety:<br>
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Slovenskı jazyk">Slovenskı jazyk
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Anglickı jazyk">Anglickı jazyk
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Nemeckı jazyk">Nemeckı jazyk
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Matematika">Matematika
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Fyzika">Fyzika
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Chémia">Chémia
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Biológia">Biológia
  <br>&lt;br>&lt;input type="Checkbox" name="predm[]" value="Informatika" checked>Informatika
  <br>&lt;br>&lt;input type="Checkbox" name="ine" value="Iné" >Iné: &lt;input type="text" name="pred">
  <br>&lt;br>&lt;br>&lt;input type="Reset" value="Reset"> &nbsp; &nbsp;	&lt;input type="SubMit" value="Odosla">
<br>&lt;/form>
  </tr>
</table>  
 </div> 

<h3>&lt;Input type=radio&gt;</h3>
Tento objekt (prepínaè) umoòuje jednoduchı vıber - z nieko¾kıch moností si vyberáme jednu (napr. pohlavie - mu/ena, najvyššie dosiahnuté vzdelanie základné/stredoškolské/vysokoškolské). 
Uívate¾ sa rozhodne oznaèením jedného kolieèka, systém zabezpeèí, e nemono vybra viac ako jednu monos.
<dl><dt>Parametre
    <dd><ul><li>Name =" ..."
			<br>Meno potrebné na identifikáciu odoslanıch dát. Pre jednu skupinu musí by rovnaké.
			<li>Value = " ..." 
			<br>Hodnota odoslaná na  spracovávanie - pri oznaèení políèka, ak nezadáme zasiela text "on"
			<li>checked
			<br>Ak tento parameter nastavíme, bude políèko na zaèiatku zvolené, v jednej skupine by malo by max. jedno.
		</ul>
</dl>			
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<table rules="cols" border="1" frame="void">
<tr><td  style="padding-left:5">
  <form method="get" action="ukaz.php">
  Zadaj svoju poslednú známku z informatiky:<br>
  <br><input type="Radio" name="inf" value="1" checked>1
  <br><input type="Radio" name="inf" value="2">2
  <br><input type="Radio" name="inf" value="3">3
  <br><input type="Radio" name="inf" value="4">4
  <br><input type="Radio" name="inf" value="5">5
  <br><br><input type="Reset" value="Reset"> &nbsp; &nbsp;	<input type="SubMit" value="Odosla">
</form>
  <td style="padding-left:20">
  &lt;form method="get" action="ukaz.php">
  <br>Zadaj svoju poslednú známku z informatiky:&lt;br>
  <br>&lt;br>&lt;input type="Radio" name="inf" value="1" checked>1
  <br>&lt;br>&lt;input type="Radio" name="inf" value="2">2
  <br>&lt;br>&lt;input type="Radio" name="inf" value="3">3
  <br>&lt;br>&lt;input type="Radio" name="inf" value="4">4
  <br>&lt;br>&lt;input type="Radio" name="inf" value="5">5
  <br>&lt;br>&lt;br>&lt;input type="Reset" value="Reset"> &nbsp; &nbsp;	&lt;input type="SubMit" value="Odosla">
  <br>&lt;/form>
  </tr>
</table>  
 </div> 
<h3>&lt;Select&gt; . . . &lt;/Select&gt;</h3>
Tento objekt má podobnú myšlienku ako zaškrtávacie políèko alebo prepínaè ale ponúkané monosti sú zbalené a a na poiadavku uívate¾a sa rozbalia. 
Select je párovı tag, monosti z ktorıch vyberáme zadávame samostatnımi tagmi &lt;option>
<dl><dt>Parametre
    <dd><ul><li>Name =" ..."
			<br>Meno potrebné na identifikáciu odoslanıch dát. Ak povolíme len jednu hodnotu zvolíme názov premennej, ak povolíme vıber viacerıch
			musí by meno identifikátor po¾a - pole[]
			<li>Size = "poèet zobrazenıch riadkov"  
			<br>Poèet zobrazenıch riadkov, skutoènı poèet moností môe by väèší.
			<li>multiple
			<br>Ak tento parameter nastavíme, povolili sme násobnı vıber
		</ul>
	<dt>&lt;option value=" ... "&gt; 
	<dd>
</dl>			
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<table rules="cols" border="1" frame="void">
<tr><td  style="padding-left:5">
  <form method="get" action="ukaz.php">
  Zadaj svoj vek<br>
  <br><select  name="vek">
  <option value="v15">15-17
  <option value="v18">18-20
  <option value="v21">21-25
  <option value="v26">26-35
  <option value="v36">36-55
  <option value="v56">56 a viac
  </select>
  <br><br><input type="Reset" value="Reset"> &nbsp; &nbsp;	<input type="SubMit" value="Odosla">
</form>
  <td style="padding-left:20">
  &lt;form method="get" action="ukaz.php">
  &lt;br>Zadaj svoj vek<br>
  <br>&lt;select  name="vek">
  <br>&lt;option value="v15">15-17
  <br>&lt;br>&lt;option value="v18">18-20
  <br>&lt;option value="v21">21-25
  <br>&lt;option value="v26">26-35
  <br>&lt;option value="v36">36-55
  <br>&lt;option value="v56">56 a viac
  <br>&lt;/select>
  <br>&lt;br>&lt;br>&lt;input type="Reset" value="Reset"> &nbsp; &nbsp;	&lt;input type="SubMit" value="Odosla">
 <br>&lt;/form>
  </tr>
</table>  
 </div> 

<h3>&lt;Select multiple&gt; . . . &lt;/Select&gt;</h3>
Tento objekt má podobnú myšlienku ako zaškrtávacie políèko alebo prepínaè ale ponúkané monosti sú zbalené a a na poiadavku uívate¾a sa rozbalia. 
Select je párovı tag, monosti z ktorıch vyberáme zadávame samostatnımi tagmi &lt;option>
<dl><dt>Parametre
    <dd><ul><li>Name =" ..."
			<br>Meno potrebné na identifikáciu odoslanıch dát. Ak povolíme len jednu hodnotu zvolíme názov premennej, ak povolíme vıber viacerıch
			musí by meno identifikátor po¾a - pole[]
			<li>Size = "poèet zobrazenıch riadkov"  
			<br>Poèet zobrazenıch riadkov, skutoènı poèet moností môe by väèší.
		</ul>
	<dt>&lt;option value=" ... "&gt; 
	<dd>
</dl>			
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<table rules="cols" border="1" frame="void">
<tr><td  style="padding-left:5">
  <form method="get" action="ukaz.php">
  Zadaj jazyky, ktoré ovládaš<br>
  <br><select  name="jaz[]" multiple>
  <option value="sl">slovenèina
  <option value="ang">angliètina
  <option value="nem">nemèina
  <option value="fra">francúzština
  <option value="spa">španielèina
  <option value="ine">iné
  </select>
  <br><br><input type="Reset" value="Reset"> &nbsp; &nbsp;	<input type="SubMit" value="Odosla">
</form>
  <td style="padding-left:20">
  &lt;form method="get" action="ukaz.php">
  &lt;br>Zadaj svoj vek<br>
  <br>&lt;select  name="vek">
  <br>&lt;option value="v15">15-17
  <br>&lt;option value="v18">18-20
  <br>&lt;option value="v21">21-25
  <br>&lt;option value="v26">26-35
  <br>&lt;option value="v36">36-55
  <br>&lt;option value="v56">56 a viac
  <br>&lt;/select>
  <br>&lt;br>&lt;br>&lt;input type="Reset" value="Reset"><br>&lt;input type="SubMit" value="Odosla">
 <br>&lt;/form>
  </tr>
</table>  
 </div> 
<h3>&lt;textarea&gt; . . . &lt;/textarea&gt;</h3>
Tento objekt pouívame na odoslanie dlhšieho textu. Ve¾kos ovplyvòujeme parametrami cols, rows
<dl><dt>Parametre
    <dd><ul><li>Name =" ..."
			<br>Meno potrebné na identifikáciu odoslanıch dát. 
			<li>Rows = poèet zobrazenıch riadkov  
			<br>Cols = Poèet zobrazenıch ståpcov - pís.
		</ul>
		Text medzi zaèiatkom a koncom je inicializaèná hodnota v bunke. Obyèajne nedávame niè.
</dl>		
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<table rules="cols" border="1" frame="void">
<tr><td  style="padding-left:5">
  <form method="get" action="ukaz.php">
  Sem napíš èo vieš o vírusoch: <br>
  <br><textarea cols="40" rows="5" name="text-virus">   </textarea>
  <br><br><input type="Reset" value="Reset"> &nbsp; &nbsp;	<input type="SubMit" value="Odosla">
</form>
  <td style="padding-left:20">
  &lt;form method="get" action="ukaz.php">
  <br>Sem napíš èo vieš o vírusoch: <br>
  <br>&lt;br>&lt;textarea cols="40" rows="5" name="text-virus">   &lt;/textarea>
  <br>&lt;br>&lt;br>&lt;input type="Reset" value="Reset"> &nbsp; &nbsp;	&lt;input type="SubMit" value="Odosla">
 <br>&lt;/form>
  </tr>
</table>  
 </div>
 <br><br> 
<h2>Spracovanie formulárov</h2>
Na vytvorenie formulára a na odoslanie dát na server vystaèíme so súborom html, na spracovanie odoslanıch dát u musíme siahnu
po akènejšom súbore - napr. php. Samozrejme odosiela dáta z formulára na server má zmysel, len ak tieto dáta zachytávame nejakım programom, 
ktorı ich následne spracuje.<br> 
Program, ktorı je vo formulári uvedenı ako spracovávajúci sa na serveri spustí automaticky po odslaní dát a my si teraz popíšeme 
ako sa v tomto programe dosta ku odoslanım dátam.
<br>Do verzie PHP 4.2.0 bola situácia jednoduchá (ale riskantná z h¾adiska bezpeènosti) - v programe sa automaticky vytvorili premenné 
<b>$meno</b>, kde meno je hodnota zadaná ako parameter name="...". Tieto premenné boli globálne a dali sa pouíva ako kadé iné vo vırazoch a príkazoch.
<br>Od verzie PHP 4.2.0 ku dátam pristupujeme cez asociatívne polia
<ul><li>$_POST - pri odoslaní pomocou metódy POST
	<li>$_GET -  pri odoslaní pomocou metódy GET
	<li>$_REQUEST - pri ¾ubovo¾nej metóde
</ul>
Indexy v tomto poli sú mená odosielanıch dát, v hodnotách sú zapísané odoslané hodnoty.<br>
Príklad na vıpis všetkıch dát, ktoré prišli metódou post:
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
<pre>
&lt;html>
&lt;head>
    &lt;META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">	
	&lt;?
$pocetPost = count($_POST); //pocet dat, ktore prisli
$nazvy  = array_keys($_POST); // nazvy policok, ktore boli odoslane
	?&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;?
	echo "Poèet dát:".$pocetPost;
	foreach ($_POST as $i=>$akt) echo "prem:$i, hodnota: $akt";
	?&gt;
	// to iste for cyklom
	// for ($i=0;$i&lt;$pocetPost) {echo "prem:".$nazvy[$i]." hodnota:". $_POST[$nazvy[$i]];}
&lt;/body>&lt;/html>	
</pre></div>  
<br>Naprogramuj:
<br>
<div style="width:80%;border-style:'outset'; border-width:3; background:#eeeeee;padding:15">
	<form method="post" action="plocha.php">
	a=<input type="Text" name="a" value="5"><br>
	b=<input type="Text" name="b" value="6"><br>
	<input type="Submit" value="Vıpoèet">
</div>
alebo v jednom okne: <a href="plocha2.php" target="_blank">vıpoèet</a>
</body>
</html>

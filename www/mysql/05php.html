<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
	 <meta name="Content-language" content="sk">	
     <LINK href="css/style.css" type="text/css" rel=stylesheet>
	<title>Mysql-php</title>
</head>

<body>
<h2>Príkazy PHP pre MySQL</h2>
V minulej èasti sme si ukázali ako získa dáta z MySQL databázy pomocou rozhrania http (PHP jazyka + prehliadaèa), 
teraz ukáem ako dáta v databáze meni (pridáva, ruši a editova záznamy)
<h3>Vkladanie nového záznamu</h3>
Na vkladanie záznamov v jazyku MySQL máme príkaz INSERT a jeho monosti mono pozrie v èasti o príkazoch MySQL. 
<br>Jeho typická syntax je: 
<p style="background-color:silver">
INSERT INTO [názov tabu¾ky] (ståpec, ...) VALUES (hodnota, ...) 
</p>
To platí v prípade, e dáta do tabu¾ky vkladáme z kódu a pridá to len jeden riadok. 
<br>Zadávané ståpce uvádzame v okrúhlych zátvorkách podobne ako odpovedajúce hodnoty.
<br>Hodnotz môu obsahova názvy ståpcov,ktorım u boli priradené hodnoty 
<br>Dáta však môeme vklada aj z inej tabu¾ky. Potom je syntax nasledovné:
<p style="background-color:silver">
INSERT INTO [názov tabu¾ky] (ståpec, ...) SELECT ... 
</p>
a dodajme, e táto syntax môe vloi všeobecne nula a ve¾a riadkov. Tabu¾ka, do ktorej vkladáme, musí v databáze u existova. 
Ak by neexistovala, mali by sme ju najprv vytvori príkazom CREATE TABLE. 
Príkaz INSERT patrí medzi tzv manipulaèné príkazy jazyka SQL. To znamená, e po jeho pouití sa dáta v databáze môu zmeni. 
Èo sa po SELECT nikdy nestane, SELECT je teda naproti tomu vıberovı príkaz.
<h3>Insert pomocou PHP</h3>
Ako ste asi èakali, v PHP sa pridávajúce otázky tie realizujú pomocou funkcie mysql_query. 
V prípade manipulaènıch dotazov vracia funkcia mysql_query TRUE ak sa vydarila, v ostatnıch prípadoch vracia FALSE. 
Funkcia mysql_query teda nijako nevracia poèet vloenıch záznamov. Ten môeme zisti pomocou inej funkcie, a síce <b>mysql_affected_rows</b>. 
Tá funguje tak, e vráti poèet vloenıch (zmenenıch, odstránenıch) riadkov ovplyvnenıch poslednom manipulaènım dotazom. 
Ak poslednı manipulaènı dotaz zlyhal, vracia -1.
<h3>Menenie záznamov</h3>
Z databázy u vieme záznamy vybera a vieme ich do nej vklada. Ïalší úkon, ktorı nás èaká je vedie dáta upravi alebo aktualizova.


Zase trocha SQL
V SQL sa k aktualizácii riadku alebo riadkov v databáze pouíva príkaz UPDATE. UPDATE narozdiel od INSERT nevkladá do databázy iadne riadky, ale upravuje existujúce dáta. To znamená, e vykonáte ak na tabulkce príkaz UPDATE, poèet riadkov v tejto tabu¾ke sa nezmení, ale môu sa zmeni údaje v jednotlivıch riadkoch. V MySQL je pochopite¾ne aj k príkazu UPDATE rozsiahla dokumentácia. Jeho najprimitívnejšie forma potom je: 



</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
	 <meta name="Content-language" content="sk">	
	  <LINK href="css/style.css" type="text/css" rel=stylesheet>
	<title>Úvod</title>
</head>

<body>
<h2>Úvod</h2>
MySQL je vytvorenı švédskou firmou MySQL AB. Jeho hlavnımi autormi sú Michael Widenius a David Axmark. Oficiálna stránka je www.mysql.com. 
Stále si získava väcšiu popularitu vïaka svojej stabilite, rıchlosti, jednoduchosti, nenároènosti a najmä preto, 
e takmer pre všetky platformy je zadarmo. Dá sa inštalova na Linux, MS Windows a ïalšie operaèné systémy. 
Vzh¾adom k tomu MySQL chıbajú niektoré monosti, ktoré majú iné databázové systémy. 
Tieto vlastnosti boli doplnené v poslednıch rokoch. Vïaka tomu je MySQL nenároènı na zdroje poèítaèa a zvyšuje rıchlos pri niektorıch operáciách. 
MySQL je navrhnutı pre jednoduché databázy s ve¾kım mnostvom dát. Je urèenı najmä pre malé webovské databázy. 

MySQL je dnes najpouívanejší nástroj na pouitie databázy v prostredí PHP. MySQL je mohutnı nástroj na správu
databázy tu si ukáeme základné nástroje na 
<ul><li>tvorbu databázy
	<li>vytváranie/rušenie tabuliek
	<li>modifikácia tabulky
	<li>vıber dát z tabu¾ky
	<li>spolupráca MySQL s PHP
</ul>	
Keïe nám pôjde hlavne o spoluprácu s PHP je jasné e sa predpokladajú aspoò základné znalosti s PHP. Celé uèivo bude mono
testova na na našom LINUX serveri, kde je PHP aj MySQL nainštalované. 
<br>Moné je skúša aj na PC pod Win spustením programu  server_start 
(je èasou <a href="miniserver/mini_server_21_xoops.exe"><font size="+1" color="Blue">mini_server_21_xoops</font></a>), staèí naèíta a rozbali.
<br>Ide o vıbornı-jednoduchı program na skúšanie/ladenie práce s databázami a tie s PHP. Ukonèenie programu urobíme spustením programu server_stop.
<dl>
<dt>Databáza
<dd>Dnes sa najviac pouívajú relaèné databázy, kde dáta sú zapisované do tabuliek. Jednotlivé tabu¾ky majú pridelené mená. 
	Riadky tabu¾ky voláme vety alebo záznamy, ståpce nazıvame atribúty. Kadá veta má rovnakú štruktúru (postupnos atribútov). 
	Atributy majú mená (napr. meno, rodisko, roèník) a majú urèenı typ (èíselnı, textovı,...), ktorı urèí tvorca tabu¾ky pri vzniku. 
	Vety sú urèené poradovım èíslom a poradie viet je urèené postupnosou zápisu viet - nová veta sa zapíše vdy nakoniec.
<dt>Spustenie my_sql interpretera príkazov
<dd>Po prihlásení na LINUXe (alebo po spusteni mini_servera) dáme príkaz: mysql -uuser -ppass
	<table>
	<tr valign="top"><td><img src="obr/mini1.png" width="669" height="590" border="0" alt="">
	<td>
	<ul><li>user je váš login 
		<li>pass je vaše heslo
	</ul>	
	Tımto príkazom zavoláme príkazovı interpret príkazov (príkazovı riadok dostane tvar mysql>. Zadané príkazy sa potom hneï aj vykonajú.
	<br>Základnı príkaz bude pre nás 
	<br><b>help</b>  	
	<br>ktorım sa dozvieme, aké príkazy môme zo vstupného riadku zada. Takto sa napr. dozvieme, e ukonèi prácu s príkazovım interpretrom mono 
	zadaním príkazu
	<br><b>exit</b>
	<br>èím sa pod Unixom dostaneme naspä do shellu, v miniserveri sa nám okno mysql zavrie. Príkazy, ktoré budeme pouíva mono rozdeli
	na príkazy jazyka SQL, tieto interpreter samozrejme interpretuje a vyadujú ako ukonèenie bodkoèiarku a príkazy na administráciu práce 
	s databázami, ktoré bodkoèiarku nevyadujú (ale môe by).
	</tr>
	</table>
<dt>Vıpis dostupnıch databáz, tvorba databázy, vo¾ba databázy
<dd><b>SHOW DATABASES</b>
	<BR>Tento príkaz vypíše zoznam všetkıch dostupnıch databáz

	<br><b>CREATE DATABASE</b> nazov
	<br>Tımto príkazom sa vytvorí nová databáza. Táto databáza je ale prázdna. Aby sme mohli zadáva dáta musíme v databáze vytvori tabu¾ky.
	<br><b>USE nazov_databazy</b>
	<br>Tımto preberieme databázu do pouívania.
<dt>Tvorba tabuliek	
<dd>Základom databázy sú tabu¾ky. Pred vytváraním tabuliek je vhodné dobre si premyslie štruktúru tabuliek a väzby medzi nimi.
	<div style="background:black; color:white; width:50%; padding:10">
	<br><b>CREATE TABLE</b> meno
	<br>atribut1 typ1 [modifikator1]
	<br>, atribut2 typ2 [modifikator2]
	<br>, ...
	<br>;
	</div>
	<TABLE cellpadding="10">
	<TR><TH>Základné typy<TH>Modifikátor</tr>
	<tr><td>
	<table border="1">
	<tr><th>Skupina<th>Dátovı typ<th>Rozsah</tr>
	<tr><td rowspan="5">Celoèíselné<td>tinyint<td>-128 .. 127</tr>
	<tr>				<td>SMALLINT<td>-2<sup>15</sup> .. 2<sup>15</sup></tr>
	<tr>				<td>MEDIUMINT<td>-2<sup>23</sup> .. 2<sup>23</sup></tr>
	<tr>				<td>INT, INTEGER<td>-2<sup>31</sup> .. 2<sup>31</sup></tr>
	<tr>				<td>BIGINT<td>-2<sup>63</sup> .. 2<sup>63</sup></tr>
	<tr><td rowspan="2">Desatinné<td>FLOAT<td>-10<sup>38</sup> .. 10<sup>38</sup></tr>
	<tr>				<td>DOUBLE, REAL<td>-10<sup>308</sup> .. 10<sup>308</sup></tr>
	<tr><td rowspan="6">Dátumové,<br>èasové<td>DATE<td>&nbsp;</tr>
	<tr>				<td>DATETIME<td>&nbsp;</tr>
	<tr>				<td>TIME<td>&nbsp;</tr>
	<tr>				<td>TIMESTAMP<td>&nbsp;</tr>
	<tr>				<td>YEAR<td>&nbsp;</tr>
	<tr>				<td>YEAR(2)<td>&nbsp;</tr>
	<tr><td rowspan="6">Textové<td>CHAR(x)<td>&nbsp;</tr>
	<tr>				<td>VARCHAR(x)<td>&nbsp;</tr>
	<tr>				<td>TINITEXT<td>max. 255B</tr>
	<tr>				<td>TEXT<td>max. 65 535B</tr>
	<tr>				<td>MEDIUMTEXT<td>max. 2<sup>24</sup>B</tr>
	<tr>				<td>LONGTEXT<td>max. 2<sup>64</sup>B</tr>
	<tr><td >vıpoètovı<td>ENUM(hod1,hod2,...)<td>Pouitie: napr radiobutton</tr>
	<tr><td >mnoina<td>SET(hod1,hod2,...)<td>&nbsp;</tr>
	</table>
	<td valign="top">
	<table border="1">
	<tr><th>Modifikátor<th>Vıznam</tr>
	<tr><td>UNSIGNED<TD>Pre celoèíselné typy.
	<tr><td>NOT NULL<TD>Atribúty, ktoré majú tento modifikátor nemono pri zadávaní vety necha prázdne.
	<tr><td>UNIQUE<TD>Atribúty, ktoré majú tento modifikátor musia ma jedineènú hodnotu.
	<tr><td>PRIMARY KEY<TD>V tabu¾ke môe by maximálne 1 primárny k¾úè.
	<tr><td>AUTO INCREMENT<TD>Len na celoèíselné a maximálne 1 atribút.
	<tr><td>DEFAULT hodnota<TD>Ak nezadáme hodnotu tak sa uplatní táto.
	</table>
	</table>
	<br>
	Typ CHAR má pevnı poèet znakov (dopåòa medzerami), VARCHAR zaberá len to¾ko miesta ko¾ko znakov zadáme.
	<br>Názvy príkazov môme písa malımi i velkımi písmenami, názvy polí radšej píšme malımi písmenami.
	<br>Keïe ide o dlhı príkaz môme ho zada vo viacerıch riadkoch.
	<br>Štruktúru tabu¾ky môme vypísa pomocou príkazu: 
	<br><b>DESCRIBE</b> tabulka;
<dt>Modifikácia tabuliek - Zmena názvu tabu¾ky
<dd><b>ALTER TABLE</b> nazov_tabulky <b>RENAME</b> novy_nazov_tabulky;
	<br>Tabu¾ky je moné premenova. Dáta aj štruktúra sa zachová.
<dt>Odstránenie tabulky/dát
<dd><b>DROP TABLE</b> tabulka; //odstráni tabu¾ku z databázy
	<br>DELETE FROM </b> tabulka; //odstráni dáta z tabu¾ky
<dt>Modifikácia tabuliek - Pridávanie ståpca
<dd>Do existujúcich tabuliek je moné pridáva ståpce, meni ich názvy a ruši nepotrebné ståpce. Na všetky tieto akcie mono poui príkaz ALTER TABLE.
	<br><b>Prida ståpec nakoniec</b>
	<br><b>ALTER TABLE</b> tabulka <b>ADD COLUMN</b> stlpec typ modif;
	<br><b>Prida ståpec nazaèiatok</b>
	<br><b>ALTER TABLE</b> tabulka <b>ADD COLUMN</b> stlpec typ modif <b>FIRST</b>;
	<br><b>Prida ståpec za niektoré pole</b>
	<br><b>ALTER TABLE</b> tabulka <b>ADD COLUMN</b> stlpec typ modif <b>AFTER</b> stlpec;
<dt>Modifikácia tabuliek - Ostránenie ståpca
<dd><b>ALTER TABLE</b> tabulka <b>DROP</b> stlpec
    <br>Tento príkaz odstráni z tabulky ståpec
<dt>Modifikácia tabuliek - Zmena vlastnosti ståpca
<dd><b>ALTER TABLE</b> tabulka <b>MODIFY</b> stlpec nove_vlastnosti
    <br>Tento príkaz môe zmeni typ ståpca, prípadne nastavi niektorı modifikátor
	<br><b>ALTER TABLE</b> tabulka <b>CHANGE</b> stlpec nove_meno vsetky_vlast
	<br>Tento príkaz môe zmeni aj meno ståpca
<dt>Modifikácia tabuliek - Odstránenie primárneho k¾úèa
<dd><b>ALTER TABLE</b> tabulka <b>DROP PRIMARY KEY;</b>
	<br>Zruší tabu¾ke primárny klúè (len oznaèenie)
<dt>Modifikácia tabuliek - Nastavenie primárneho k¾úèa
<dd><b>ALTER TABLE</b> tabulka <b>ADD PRIMARY KEY (nazov_stlpca);</b>
	<br>Nastaví ståpec ako primárny tabu¾ke primárny klúè (len oznaèenie)
<dt>Modifikácia tabuliek - Vkladanie záznamov
<dd><b>INSERT INTO</b> tabulka <b>VALUES</b> (zoznam hodnôt oddelenıch èiarkou)
	<br>Tımto príkazom môme/musíme zada hodnoty pre všetky ståpce. A má ståpec modifikátor AUTO INCREMENT zadáme hodnotu 0.
	Ak zadáme èíslo>0 musí by jedineèné, inak zahlási chybu. Textové hodnoty zadávame v úvodzovkách.
	<br><b>INSERT INTO</b> tabulka (zoznam ståpcov oddelenıch èiarkou) <b>VALUES</b> (zoznam hodnôt oddelenıch èiarkou);
	<br>Tımto príkazom môme zada hodnoty niektorıch ståpcov. Ak niektorı ståpec má modifikáror NOT NULL, tak tento ståpec musí by zadanı. 
	<br><b>INSERT INTO</b> tabulka (zoznam ståpcov oddelenıch èiarkou) <b>VALUES</b> (zoznam hodnôt oddelenıch èiarkou), (zoznam hodnôt oddelenıch èiarkou);
	<br>Tımto príkazom môme zada hodnoty niektorıch ståpcov, ko¾ko zoznamov uvedieme to¾ko riadkov sa vytvorí.
	<br><b>INSERT INTO</b> tabulka (zoznam ståpcov oddelenıch èiarkou) <b>SELECT</b> vıberovı príkaz;
	<br>Tımto príkazom môme zada hodnoty z vıberu pomocou príkazu SELECT.
<dt>Modifikácia tabuliek - Práca s indexami
<dd>Pre rıchlejšie vyh¾adávanie dát v tabu¾kách je moné zriadi indexové súbory. Indexova mono pod¾a jedného alebo viacerıch ståpcov.
	<br><b>ALTER TABLE</b> nazov_tabulky <b>ADD INDEX</b> nazov_indexu (nazov_stlpca,...); 
	<br><b>ALTER TABLE</b> nazov_tabulky <b>ADD UNIQUE</b> nazov_indexu (nazov_stlpca,...);
	<br>UNIQUE zaruèí, e vkladané hodnoty ståpcov uvedenıch v zátvorke budú jedineèné (nedovolí vklada duplicitné dáta).
	<br>ALTER TABLE klienti DROP INDEX nazov_indexu;
	<br>odstráni indexovı súbor
<dt>Mazanie záznamov
<dd><b>DELETE FROM</b> tabulka
	<br>vymae všetky záznamy	 
	<br><b>DELETE FROM</b> tabulka 	WHERE podmienka
	<br>vymae záznamy spåòajúce podmienku
	<br>Podmienky - operátory	 
	<ul><li>èíselné - &lt;, &gt;, &lt;&gt;,=
		<li>textové - =, &lt;&gt;, LIKE
		<li>logické - AND, OR, NOT 
	</ul>
	Operátor LIKE pouívame na zisovanie, èi danı reazec obsahuje zadanı podreazec. Pri zadávaní podreazca pouívame 
	"olíky"
	<ul><li>podtrník(_) - ¾ubovo¾nı jeden znak
		<li>percento(%) - ¾ub. skupina znakov
	</ul>
	Príklady:
<table border="1"><tr><td>'%retazec'<td>Vráti všetky ståpce konèiace sa zadanım reazcom </tr>
		<tr><td>'retazec%'<td> Vráti všetky ståpce zaèínajúce sa zadanım reazcom </tr>
		<tr><td>'%retazec%'<td> Vráti všetky ståpce, v ktorıch sa kdeko¾vek vyskytuje zadanı reazec </tr>
		<tr><td>'_retazec'<td> Vráti všetky ståpce s jednım ¾ubovo¾nım znakom pred zadanım reazcom </tr>
		<tr><td>'retazec_'<td> Vráti všetky ståpce s jednım ¾ubovo¾nım znakom za zadanım reazcom </tr>
		<tr><td>'_retazec_'<td> Vráti všetky ståpce s jednım ¾ubovo¾nım znakom pred a za zadanım reazcom</tr> 
		<tr><td>'_____'<td> Vráti všetky ståpce s ¾ubovo¾nımi 5 znakmi zadaného ståpca </tr>
</table>
	<dt>Úprava záznamov
	<dd><b>UPDATE</b> nazov_tabulky <b>SET</b>
       <br>polozka1 = nova_hodnota1,
       <br>polozka2 = nova_hodnota2;
       <br><br>Uvedené ståpce sa vo všetkıch vetách nastavia na nové hodnoty. 
	   <br><b>UPDATE</b> nazov_tabulky <b>SET</b>
       <br>polozka1 = nova_hodnota1,
       <br>polozka2 = nova_hodnota2
	   <br>WHERE podmienka;
       <br><br>Uvedené ståpce sa vo vetách spåòajúcich podmienku nastavia na nové hodnoty. Ak iadna veta nevyhovuje
	   nezmení sa iadna poloka.
	   <br>nova_hodnota - je povolenı aj vıraz, ktorı môe obsahova názvy ståpcov a zoberú sa hodnoty z daného riadka. 
	<dt>Vıber dát
	<dd>SELECT zoznam_poloziek FROM nazvy_tabuliek         //povinná èas
       <br>WHERE podmienky
       <br>GROUP BY nazov_stlpca_pre_zoskupenie
       <br>HAVING skupinova_podmienka
       <br>ORDER BY polozka; 

	

		
</dl>		   
</body>
</html>

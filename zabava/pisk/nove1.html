<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//SK">
<HTML>
<Head>
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<Title>Piškvorky prvá verzia</Title>
</Head>
<script language="javascript">
<!--
prazdno = new Image(20,20);
prazdno.src = "images/prazdno.gif";
okraj = new Image(20,20);
okraj.src = "images/okraj.gif";
krizek = new Image(20,20);
krizek.src = "images/krizek.gif";
kolecko = new Image(20,20);
kolecko.src = "images/kolecko.gif";

function init()
{
hod = new Array(28);
for(i=0;i<4;i++) { hod[i] = new Array(); for(j=0;j<28;j++) { hod[i][j]=0.;}
                   j=27-i;
                   hod[j] = new Array(); for(k=0;k<28;k++) { hod[j][k]=0.;}
                 }
hod[4] = new initArray(0.,0.,0.,0.,3., 4., 5., 6., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 6., 5., 4., 3.,0.,0.,0.,0.)
hod[5] = new initArray(0.,0.,0.,0.,4., 6., 7., 9.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11., 9., 7., 6., 4.,0.,0.,0.,0.)
hod[6] = new initArray(0.,0.,0.,0.,5., 7.,10.,12.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,12.,10., 7., 5.,0.,0.,0.,0.)
hod[7] = new initArray(0.,0.,0.,0.,6., 9.,12.,15.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,15.,12., 9., 6.,0.,0.,0.,0)
hod[8] = new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[9] = new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[10]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[11]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[12]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[13]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[14]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[15]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[16]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[17]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[18]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[19]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[20]= new initArray(0.,0.,0.,0.,8.,11.,14.,17.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,20.,17.,14.,11., 8.,0.,0.,0.,0)
hod[21]= new initArray(0.,0.,0.,0.,6., 9.,12.,15.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,17.,15.,12., 9., 6.,0.,0.,0.,0)
hod[22]= new initArray(0.,0.,0.,0.,5., 7.,10.,12.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,14.,12.,10., 7., 5.,0.,0.,0.,0)
hod[23]= new initArray(0.,0.,0.,0.,4., 6., 7., 9.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11.,11., 9., 7., 6., 4.,0.,0.,0.,0)
hod[24]= new initArray(0.,0.,0.,0.,3., 4., 5., 6., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 8., 6., 5., 4., 3.,0.,0.,0.,0)

poz = new Array (28);
for(i=0;i<28;i++) { poz[i] = new Array (28); for(j=0;j<28;j++)
                                                     { poz[i][j]=0; } }

for(j=0;j<28;j++) { poz[j][3] =100; poz[j][24] = 100;
                    poz[j][2] =100; poz[j][25] = 100;
                    poz[j][1] =100; poz[j][26] = 100;
                    poz[j][0] =100; poz[j][27] = 100;

                    poz[3][j] =100; poz[24][j] = 100;
                    poz[2][j] =100; poz[25][j] = 100;
                    poz[1][j] =100; poz[26][j] = 100;
                    poz[0][j] =100; poz[27][j] = 100;
                  }
utoc = new Array (0.0, 1.0, 3.0, 10.0, 100.,2000.);
bran = new Array (0.0, 1.5, 5.2, 40.0, 500.);
vysl = 0;
}

function initArray()
{
  this.length=initArray.arguments.length;
  for (var i=0;i<this.length;i++)
  {
    this[i]=initArray.arguments[i];
  }
}

function Odpovedz()
{ var i=0, j=0, max=0.0, xx=4, yy=4, x=0, y=0;
  max= hod[4][4];
  for(i=4;i<24;i++)
  { for(j=4;j<24;j++) { if (poz[i][j]==0) {
                        if(hod[i][j] > max) {max = hod[i][j]; yy=i; xx=j; }
                                           }
                      }

  }
  if (max==0) {alert("Remi");}
  y=yy-4; x=xx-4;
  Zakresli(1,y,x);
}

function patica(y,x,typ,s)
{var i=0, h=0,kk=0,ll=0,dx1=0,dx2=0,dy=0,r=0.0;
 h=0;kk=0;ll=0;
 for(i=0;i<5;i++)
 { dx1=x-i;dx2=x+i; dy=y-i;
   switch (typ)
   {   case 1: h+= poz[dy][x]; break;
       case 2: h+= poz[y][dx1]; break;
       case 3: h+= poz[dy][dx1]; break;
       case 4: h+= poz[dy][dx2]; break;
   }
 }
   switch (h)
   {   case 0:case 1:case 2:case 3:case 4: kk=h+1;break;
       case 10:case 20:case 30:case 40: ll=h/10;break;
       case 5: vysl=1;alert("I won - I am sorry");
                      break;
       case 50:vysl=10;alert("You won - congratulations");break;
   }

 r=(utoc[kk]+bran[ll])*s;
// {alert(typ+'\n'+h+"  "+kk+"  "+ll+'\n'+utoc[kk]+"  "+bran[ll]);}
 for(i=0;i<5;i++)
 { dx1=x-i;dx2=x+i; dy=y-i;
   switch (typ)
   {  case 1: hod[dy][x] += r; break;
      case 2: hod[y][dx1] += r; break;
      case 3: hod[dy][dx1] += r; break;
      case 4: hod[dy][dx2] += r; break;
   }
 }
}

function prepocet(l,k,co)
{var y=0, x=0;
    for (i=1;i<6;i++)
    { y=l-i+5; patica(y,k,1,-1);
      x=k-i+5; patica(l,x,2,-1);
      x=k-i+5;y=l-i+5; patica(y,x,3,-1);
      x=k+i-5;y=l-i+5; patica(y,x,4,-1);
    }
      poz[l][k]=co;
   for (i=1;i<6;i++)
    { y=l-i+5; patica(y,k,1,1);
      x=k-i+5; patica(l,x,2,1);
      x=k-i+5;y=l-i+5; patica(y,x,3,1);
      x=k+i-5;y=l-i+5; patica(y,x,4,1);
    }
   hod[l][k]=0;
}

function Zakresli(co,y,x)
{ if (vysl == 0)
{ var yy=0,xx=0;
  yy=y+4;xx=x+4;
  if (poz[yy][xx]==0)
  { kam=y*20+x;
    if (co==1) document.images[kam].src=krizek.src;
    if (co==10) document.images[kam].src=kolecko.src;
    prepocet(yy,xx,co);
    if (co == 10) {Odpovedz();}
  }
}
}
function Plocha()
{
  s="<TABLE CELLSPACING=10><TR><TD>";
  for(i=0;i<20;i++)
  { for(j=0;j<20;j++)
    {
      s+="<a href=\"#\" onClick=\"Zakresli(";
      s+="10,"+i+','+j;
      s+=")\"><img src=\"images/prazdno.gif\" border=0></a>";
    } s+="<br>"
  }
  s+='<TD><table width="90%"  border="1" align="center" ><tr><td align="center">Ak sa vám hra páči, ďakovné '
  s+='listy zasielajte na adresu <a href="mailto:skola@gympd.sk">skola@gympd.sk</a>.<br>'
  s+='Prípadné navrhy na vylepšenie sú vítané.'
  s+='</td></tr></table><A href = "nove1.html" target="obsah">znovu</A></table>'
  s+=''
  document.write(s);
}
//-->
</script>

<BODY>
<body text="#000000" bgcolor="#E6E6E6" link="#005555" vlink="#007777" alink="#009999">
<center>
<h3> Piškvorky </h3>
<script language="javascript">
<!--
init();
Plocha();
i=Math.round(4*Math.random()+8);
j=Math.round(4*Math.random()+8);
Zakresli(1,i,j);
//-->
</script>

</BODY>
</HTML>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
 	 <meta name="Content-language" content="sk">	
	<title>Konzolová aplikácia Delphi</title>
	<LINK href="css/style.css" type="text/css" rel=stylesheet>
</head>

<body>
<h3 style="width:500">Odlišnosti Borland Pascalu a konzolovej aplikácie Delphi</h3>
<ul><li><b>komentáre</b> - okrem klasickıch komentárov {} mame k dispozícii aj komentáre
		známe z jazyka C 
		<br>//
	<li><b>kninice</b> - 	štandartne nemáme k dispozícii kninicu crt (dá sa ale nájs náhrada na internete)
	<li>pamä - máme k dispozícii celú dostupnú pamä (v DOSe bolo len 64kB), hranica pre jedno pole nie je 
		a kadé pole má takmer neobmedzenú ve¾kos
	<li><b>premenné</b> 
		<ul><li><b>celoèíselné</b>
				<ul><li><span style="width:80px">Shortint</span><span style="width:200px">–128..127</span><span style="width:80">signed</span><span style="width:80">8-bit</span>
					<li><span style="width:80">Smallint</span><span style="width:200">–32768..32767</span><span style="width:80">signed </span><span style="width:80">16-bit</span>
					<li><span style="width:80">Longint</span><span style="width:200">–2147483648..2147483647</span><span style="width:80">signed </span><span style="width:80">32-bit</span>
					<li><span style="width:80">Int64</span><span style="width:200">–2^63..2^63–1</span><span style="width:80">signed </span><span style="width:80">64-bit</span>
					<li><span style="width:80">Byte</span><span style="width:200">0..255</span><span style="width:80">unsigned </span><span style="width:80">8-bit</span>
					<li><span style="width:80">Word</span><span style="width:200">0..65535</span><span style="width:80">unsigned</span><span style="width:80">16-bit</span>
					<li><span style="width:80">Longword</span><span style="width:200">0..4294967295</span><span style="width:80">unsigned</span><span style="width:80">32-bit</span>
				</ul>
				Typ integer je stotonenı s LongInt, èo je rozdiel oproti &quot;klasike&quot; 
			<li><b>desatinné</b>
				<ul><li><span style="width:80">Real48</span><span style="width:300">2.9 x 10^–39 .. 1.7 x 10^38</span><span style="width:80">11–12</span><span style="width:80">6B</span>
					<li><span style="width:80">Single</span><span style="width:300">1.5 x 10^–45 .. 3.4 x 10^38	</span><span style="width:80">7–8</span><span style="width:80">4B</span>
					<li><span style="width:80">Double</span><span style="width:300">5.0 x 10^–324 .. 1.7 x 10^308</span><span style="width:80">15–16	</span><span style="width:80">8B</span>
					<li><span style="width:80">Extended</span><span style="width:300">3.6 x 10^–4951 .. 1.1 x 10^4932</span><span style="width:80">19–20</span><span style="width:80">10B</span>
					<li><span style="width:80">Comp</span><span style="width:300">–2^63+1 .. 2^63–1</span><span style="width:80">19–20</span><span style="width:80">8B</span>
					<li><span style="width:80">Currency</span><span style="width:400">–922337203685477.5808.. 922337203685477.5807</span><span style="width:80">19–20</span><span style="width:80">8B</span>
				</ul>	
				Typ real je stotonenı s double, èo je rozdiel oproti klasike
			<li><b>znakové</b> 
				<ul><li>AnsiChar - 1B - 
					<li>WideChar - 2B - 16-bitovı UniCode znak
				</ul>
				Generickı typ char je štandartne stotonenı s AnsiChar.
			<li><b>texty</b>
				<ul><li>shortString - maximálne 255 znakov, v nultom znaku je aktuálna dåka
					<li>LongString - dynamickı string ¾ubovo¾nej dåky (4B pointer na text)
					<li>WideString - dynamickı string WideChar znakov
					<li>Pchar - aj v Pascale mono pracova s C-èkarskımi textami (ukonèené znakom #0)
				</ul>	
			<li><b>pole</b>
				<ul><li>klasické pole - tu je zmena len v tom, e nemusíme sledova hranicu 64kB (ve¾kos po¾a je &quot;¾ubovo¾ná&quot;)
					<br>Máme k dispozícii funkcie na zistenie najmenšieho a najvacsieho povoleného indexu po¾a
						<br>High(dyn_pole)    //vráti najväèší povolenı index 
						<br>Low(dyn_pole)    //vráti najmenší povolenı index, èie 0 
					<li>dynamické pole - je pole, ktorému pri deklarácii neurèíme poèet prvkov ale o ve¾kosti po¾a sa rozhoduje 
					v príkazovej èasti pomocou príkazov pre prácu s dyn. po¾om. Kadé takéto neprázne pole má najniší index
					rovnı nule. 
					<dl><dt>príkazy
						<dd>SetLength(dyn_pole,dlzka) //nastaví aktuálny poèet prvkov po¾a
						<br>Length(dyn_pole)  //vráti aktuálnu dåku po¾a, poèet prvkov
						<br>High(dyn_pole)    //vráti najväèší povolenı index 
						<br>Low(dyn_pole)    //vráti najmenší povolenı index, èie 0 
					</dl>
					Zmena ve¾kosti dyn. po¾a môe by èasovo nároèná operácia a treba dobre premysle ako èasto pole zväèšova.
				</ul>	
		</ul>
	<li><b>Record</b>
		<br>Ak chceme/potrebujeme do jednej premennej zapísa viacero hodnôt, ale nie sú rovnakého typu budeme potrebova 
		premennú typu Record (po slovensky povedané <b>záznam</b>)
		<br>Postup
		<ul><li>vytvoríme/zadeklarujeme premennú
				<br><b>Var</b> prem=<b>RECORD</b>
				<br>premenné1:typ1;
				<br>...
				<br>premennén:typn;
				<br><b>END;</b>
				(Všetky zadeklarované premenné medzi RECORD a END budú &quot;ubytované&quot; v premennej <b>prem</b>)
			<li>prístup ku premennım typu record v príkazovej èasti
				<br>prem.premenna
				<br>kde prem je meno premennej typu RECORD
				<br>a premenna je v nej ubytovaná	
		</ul>	
	<li><b>Náhrada kninice Crt</b>	
		<br>Ak potrebujeme príkaz na zotretie obrazovky (clrscr), nastavi farbu písma alebo príkaz keypressed je najjednoduhšou
		cestou nájs na internete nejakú náhradu tejto kninice pre Delphi. Pre tıch, ktorí nechcú h¾ada som stiahol 
		<br><a href="consolecrt/consolecrt.dcu"><b>ConsoleCrt</b></a> kninicu, ktorú staèí stiahnu a da do adresára 
		<b>C:\Program Files\Borland\Delphi7\Lib</b> a príkazy kninice crt u môme pouíva. Pre tıch ktorı neprešli &quot;trápením&quot;
		v Borland Pascale a teda kninicu crt nepoznajú uvádzam struènı popis niektorıch príkazov<br>
		<TABLE border=1>
		<TR><TD><b>procedure</b> ClrEol;</TD><TD>Vymae všetky znaky od pozície kurzora do konca riadku v aktuálnej farbe pozadia.</TD></TR>
		<TR><TD><b>procedure</b> ClrScr;</TD><TD>Vyèistí obrazovku alebo okno v aktuálnej nastavenej farbe pozadia a vráti kurzor do ¾avého horného rohu.</TD></TR>
		<TR><TD><b>procedure</b> Delay(Millisecs: Integer);</TD><TD>Oneskorenie špecifikované poètom milisekúnd.</TD></TR>
		<TR><TD><b>procedure</b> DelLine;</TD><TD>Vymae riadok obsahujúci kurzor.</TD></TR>
		<TR><TD><b>procedure</b> GoToXY(X, Y: Smallint);</TD><TD>Nastaví kurzor na pozíciu X a Y zadané ako parametre.</TD></TR>
		<TR><TD><b>procedure</b> InsLine;</TD><TD>Vloí prázdny riadok na pozíciu kurzora.</TD></TR>
		<TR><TD><b>function</b> KeyPressed: Boolean;</TD><TD>Vráti informáciu o tom, èi bola stlaèená klávesa na klávesnici.(True/False) </TD></TR>
		<TR><TD><b>procedure</b> NoSound;</TD><TD>Vypne vnútornı reproduktor poèítaèa.</TD></TR>
		<TR><TD><b>function</b> ReadKey: Char;</TD><TD>Preèíta znak z klávesnice. Ak sa jedná o Extended (rozšírenú) klávesu, vráti funkcia hodnotu #0. Nasledujúce èítanie vráti ordinální hodnotu kódu klávesy</TD></TR>
		<TR><TD><b>procedure</b> Sound(Frequency: Smallint);</TD><TD>Rozoznie vnútornı reproduktor poèítaèa na zadanú frekvenciu. 
			Rozsah frekvencie by mal by 37. .32767. Na Windows XP je potrebné po tomto príkaze vola procedúru Delay, 
			aby bolo vôbec nieèo poèu.</TD></TR>
		<TR><TD><b>procedure</b>&nbsp;Beep(Frequency:Smallint; Duration:Integer);</TD><TD>Kombinácia Sound (frekvencia); Delay (doba trvania); nosound; Zvláš na Windows XP je to pohodlné riešenie.</TD></TR>
		<TR><TD><b>procedure</b> TextBackground(Color: Byte); overload;</TD><TD>Zadanie farby pozadie.</TD></TR>
		<TR><TD><b>function</b> TextBackground: Byte; overload;</TD><TD>Vráti farbu pozadia.</TD></TR>
		<TR><TD><b>procedure</b> TextColor(Color: Byte); overload;</TD><TD>Nastaví farbu poprediua (farbu písma).</TD></TR>
		<TR><TD><b>function</b> TextColor: Byte; overload;</TD><TD>Vrátí farbu popredia. </TD></TR>
		<TR><TD><b>procedure</b> TextMode(Mode: Word);</TD><TD>Vyberie specifickı textovı reim.</TD></TR>
		<TR><TD><b>function</b> WhereX: Integer;</TD><TD>Vrátí X-ovou súradnicu aktuálnej pozície kurzora.</TD></TR>
		<TR><TD><b>function</b> WhereY: Integer;</TD><TD>Vrátí Y-ovou súradnicu aktuálnej pozície kurzora.</TD></TR>
		<TR><TD><b>procedure</b> Window(Left, Top, Right, Bottom: Integer);</TD><TD>Definuje textové okno na obrazovke. Všetky nasledujúce vıpisy pôjdu do tohto okna. Pre reset okna vola Window s nulovım alebo zápornım ¾avım parametrom
		</TD></TR></table>
<li><b>Podprogramy</b>
		<h3>Funkcie</h3>
		Pri deklarácii funkcie sa musí v kadej vetve aspoò raz do mena fukcie zapísa nejaká hodnota (ktorá bude návratovou hodnotou). Názov funkcie sa však &quot;nesmie&quot; vyskytnú na pravej strane priraïovacieho príkazu bez toho aby sa funkcia opä nezavolala
nemôme tak napríklad len jednoducho doèasnú návratovú hodnotu vynásobi dvomi. Pribudla monos návratovú hodnotu zapisova do premennej <b>result</b>, ktorá sa chová ako lokálna premenná a po opustení podprogramu sa hodnota z premennej result automaticky zapíše do názvu funkcie.  
		<br><br>pribudla tie monos <b>overload</b> (c-èkari poznajú ako prekrıvanie funkcií). Ide o to, e môme ma viacero
		podprogramov s rovnakım názvom a pri zavolaní sa správna nájde pod¾a typu parametrov. 
		<br>Napr. urobím funkciu max(a,b) pre typy celoèíselné, desatinné a poprípade aj stringové.
		<div style="border-style:solid;border-width:1">
		<h4 style="margin:0;width:100%;background:rgb(128,128,255);padding:5">ukáka</h4>
<div style="padding:5; font-family: monospace;"><pre>function Divide(X, Y: Real): Real; overload;
begin
  Result := X/Y;
end;
function Divide(X, Y: Integer): Integer; overload;
begin
  Result := X div Y;
end;</pre></div>
		</div>
		<br>Parametre
		<br>Tu len nieko¾ko poznámok
		<h3>Prenos parametrov do podprogramu</h3>
		<ul><li><b>hodnotou</b> - hodnota skutoèného parametra sa okopíruje do fiktívneho parametra. Prípadná zmena hodnoty fiktívneho
				parametra nemá na hodnotu skutoèného parametra iadny vplyv. <br>
				<div style="border-style:solid;border-width:1">
		<h4 style="margin:0;width:100%;background:rgb(128,128,255);padding:5">ukáka</h4>
Var n,m,v:integer;
<div style="padding:5; font-family: monospace;">
<pre>Function NSD(a,b:integer):integer;
Begin
   while a&lt;&gt;b do if a&gt;b then a:=a-b else b:=b-a;
   result :=a;
End;
Begin  
  n:=150;m:=90;
  v:=NSD(n,m);
  writeln('NSD(',n,',',m,')=',v);  //vypise NSD(150,90)=30
  readln;
End.
</pre></div>
</div>
Zmena fiktívnych parametrov a,b nemá na odpovedajúce skutoèné parametre n,m iadny vplyv.
<li><b>menom</b>
	<br>Ak skutoèné parametre deklarujeme slovíèkom <b>Var</b>, tak skutoèné a odpovedajúce fiktívne parametre predstavujú
	tú istú premennú a kadá zmena fiktívneho parametra v podprograme zmení hodnotu skutoèného parametra v hlavnom programe.
	<br>Dyn. polia sú aj bez slovíèka Var prenášané menom (kadá zmena hodnoty prvku dyn. po¾a v podprograme, zmení príslušnı 
	prvok skutoènému parametru v hlavnom programe). Statické polia sú prenášané hodnotami, èo môe zaaova pamä a èas
	(vytvára sa kópia celého po¾a), pokia¾ sa to len trochu dá prenášame ich radšej pomocou Var, èo je efektívnejšie. 
</ul> 
<li><b>presmerovanie vstupu a vıstupu</b>
	<br>Konzolová aplikácia štandartne èíta vstupné dáta zo štandartného vstupu (vstupnı riadok) - toto zariadenia má meno <b>input</b>. Pomocou dvojice príkazov
<br><b>assign(input,'subor1.txt'); reset(input);</b>
<br>sa vstup presmeruruje na <b>subor1.txt</b> a príkazy naèítavania zo štandartného vstupu budú dáta bra z tohoto súboru
a nie zo štandartného vstupu-klávesnice.
<br>Treba da pozor na readln pred end. tento u nemusí zastavi beh programu (ak nájde znak Enter v súbore) a èo je ešte horšie nemusí sa nám dari posunú program ïalej (ak znak Enter v súbore nie je);
<br>Toto presmerovanie mono v programe aj zruši:
<br><b>close(input);</b>
<br><b>assign(input,''); reset(input);</b>
<br><br>Podobne mono presmerováva aj vıstup z obrazovky do súboru
<br><b>assign(output,'subor2.txt'); rewrite(input);</b>
<br><br>a podobne ak chcem môem toto presmerovanie zruši podobne ako v prípade inputu.
</ul>		
</body>
</html>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>Grafika</title>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
 	 <meta name="Content-language" content="sk">	
	  <LINK href="../css/style.css" type="text/css" rel=stylesheet>
</head>

<body LINK="#0000ff" BACKGROUND="../image15.gif">
<center><h3 class=nadpis>Grafika</h3></center>
Na kreslenie na plochu je viacero moností, je vhodné si do formulára vloi
objekt IMAGE (karta Additional), nieèo ako stôl na kreslenie, vkladanie obrazkov. Jeden z objektov patriacich IMAGE
je CANVAS, èo je ako maliarske plátno a naò u mono umiestòova grafické obekty - kresli,
podobne ako v jednotke graph v Borland Pascale. Hlavnou vıhodou je
<ul><li>väèšie mnostvo farieb
    <li>"¾ubovo¾ná" ve¾kos maliarskeho plátna (rozlíšenie XxY)
	<li>podstatne väèšia mnoina grafickıch príkazov
	<li>animácie neblikajú
	<li>monos pouíva èasovaè v animáciách
</ul>
Nevıhodou stále ostáva pomalos vykreslovania - máloktorá hra je písaná v takejto základnej grafike - ak chceme
vykreslova 3D objekty v reálnom èase aj s viditelnosou, musíme siahnu po nástrojoch OpenGl alebo DirectX.	
<dl>
	<dt class=main>Zaèíname
	<dd>Vloíme grafickı objekt Image1 na plochu a urèíme mu nami urèenú ve¾kos. Ak teraz spustíme aplikáciu
		budeme zaskoèenı, e sa nám na ploche neobjavil. Treba si zapamäta, e objekt Image1 sa zobrazí a po 
		nakreslení nejakej èiary alebo plochy. Ja to riešim tak, e vo FormCreate dám príkaz na zotretie kresliacej plochy
		(v skutoènosti cez celú kresliacu plochu nakreslím biely obdånik).
		<br>Image1.Canvas.FillRectangle(Image1.ClientRect);
		<br>Podrobnejšie tento príkaz bude popísanı v èasti Kreslenie plôch.
		<br>Keï teraz pustíme aplikáciu vidíme objekt Image1 ako biely obdånik poloenı na Forme.
		<br><img src="../obr/image1.png" width="235" height="192" border="0" alt="">
		<br>Polohu bodu v Image1 mono zadáva pomocou dvojíc [x,y] kde x udáva vodorovnú 
		vzdialenos bodu od ¾avého okraja Image1. 
		<br>a y udáva zvislú vzdialenos od horného okraja Image1 
	<dt class=main>Poèiatoèné hodnoty
	<dd>Základné kreslené prvky majú nastavené poèiatoèné vlastnosti:
	     Poèiatoèná poloha gr. kurzora: [0;0]
	     Èiary - farba-èierna, hrúbka-1, style-solid (súvislá)	
		 Plochy- farba-biela, style-solid (súvislá)

	<dt class=main>Práca s farbami
	<dd>Na urèenie farby objektov v štádiu tvorby projektu vyuijeme vlastnos Color
		a vyberieme si z ponúkanıch farieb.
		<br>Ak chceme meni farbu za behu programu, môeme poui nasledovné postupy:
		<ol>
		<li>Vlastnosti Color priradíme slovné oznaèenie farby (napr. clred)
		<li>Vlastnosti Color priradíme èíselné oznaèenie farby - $00bbggrr, ide o štvoricu bajtov
		<li>Vlastnosti Color priradíme funkciu RGB(r,g,b), kde r,g,b sú èísla 0..255 
		<li>Pouijeme objekt ColorBox, kde si uívate¾ môe vybra farbu,  vybraná farba je vo vlastnosti  Selected
		<li>Pouijeme objekt ColorDialog, zvolená farba je vo vlastnosti Color
		<li>Pouijeme 3 objekty ScrollBar, na kadom necháme uívate¾a, aby nastavil jas farby a pomocou RGB vytvoríme vıslednú farbu.  
		</ol>
	<dt class=main>Nastavenie vlastností pera
	<dd><dl><dt class=second>Pen.Color
			<dd>farba èiary. Farbu mono zada:
				<ol>
				<li>èíslom - $bbggrr, kde  bb - mnostvo modrej, gg - mnostvo zelenej, rr - mnostvo èervenej
				<li>menom - napr clYellow
				<li>RGB(0..255,0..255, 0..255)
				</ol> 
			<dt class=second>Pen.Width
			<dd>hrúbka èiary. Ak chceme èiarkované èiary musíme da hrúbku 1.
			<dt class=second>Pen.Style
			<dd>zvolíme tvar èiary (len pre hrúbku 1) 
				<ul>		
					<li>psSolid	- plná èiara.
					<li>psDash	- èiarkovaná. 
					<li>psDot	- bodkovaná.
					<li>psDashDot - bodko-èiarkovana.
					<li>psDashDotDot - bodko-bodko-èiarkovana. 
					<li>psClear	- iadna èiara.	
				</ul>
				Niektoré plošné príkazy (ellipse, chord,...) kreslia perom (pen) èiaru okolo plochy a ak ju chceme vypnú
				je "psClear" dobrá monos.
			<dt class=second>Pen.Mode
			<dd>zvolíme spôsob poloenia èiary na plochu. Implicitne je pmCopy - zvolenou farbou nama¾uje.
				Pouívame napr. pri "jednoduchej" animácii, èiaru poloíme v reime not (alebo xor), kedy 
				opätovné kreslenie èiary èiaru zotrie ako undo.
				<ul>		
				<li>pmBlack	Always black
				<li>pmWhite	Always white
				<li>pmNop	Unchanged
				<li>pmNot	Inverse of canvas background color
				<li>pmCopy	Pen color specified in Color property
				<li>pmNotCopy	Inverse of pen color
				<li>pmMergePenNot	Combination of pen color and inverse of canvas background
				<li>pmMaskPenNot	Combination of colors common to both pen and inverse of canvas background.
				<li>pmMergeNotPen	Combination of canvas background color and inverse of pen color
				<li>pmMaskNotPen	Combination of colors common to both canvas background and inverse of pen
				<li>pmMerge	Combination of pen color and canvas background color
				<li>pmNotMerge	Inverse of pmMerge: combination of pen color and canvas background color
				<li>pmMask	Combination of colors common to both pen and canvas background
				<li>pmNotMask	Inverse of pmMask: combination of colors common to both pen and canvas background
				<li>pmXor	Combination of colors in either pen or canvas background, but not both
				<li>pmNotXor	Inverse of pmXor: combination of colors in either pen or canvas background, but not both   
				</ul>
				Asi najèastejšie sa pouíva "pmcopy" na obyèajné kreslenie zvolenou farbou, na kreslenie doèasnej èiary
				je vhodné pouíva "pmxor" alebo pmnot (2x nakreslená tá istá èiara "zmizne").
		</dl>
	<dt class=main>Kresba èiar
	<dd><ul>
		<li><font color="Green">LineTo(x1,y1)</font> - spojí aktuálny bod s uvedenım predvolenou èiarou (implicitne tenká súvislá èierna).
			Tvar èiary urèíme pomocou Pen.Color, Pen.Width, Pen.Style.
		<li><font color="Green">MoveTo(x1,y1)</font> - presunie kurzor bez kreslenia na novú pozíciu.
		<li><font color="Green">Polyline()</font> - na kreslenie lomenej èiary, údaje sú brané z pola - pozri help
		<li><font color="Green">Rectangle(x1,y1,x2,y2)</font> - orámuje obdånik predpísanou èiarou
		<li><font color="Green">RoundRect(X1, Y1, X2, Y2, X3, Y3)</font> - nakreslí obdånik so zaoblenımi rohmi
			<br>x3 - šírka elipsy
			<br>y3 - vıška elipsy
		</ul>
		Rectangle, RoundRect a Polyline sú plošné objekty a ak ich chceme pouíva na kreslenie èiar, musíme vypnú 
		vykreslovanie vıplne:
		<br><b>Image1.Canvas.Brush.style:=BsClear;</b>
		<br>ak chceme opätovne zapnú vykreslovanie plochy (napríklad chceme zotrie Image1) vloíme
		<br><b>Image1.Canvas.Brush.style:=BsSolid;</b>
		<br>
	<dt class=main>Príklady na precvièenie:
		<dd><table cellspacing="20"><tr><td>
			<img src="../obr/ktstrofa.wmf" border="0" alt="" height="50">		
			<td>1. Vytvor nasledovné obrázky
			<br><img src="../obr/u1.png" width="195" height="155" alt="" border="1" >&nbsp;
				<img src="../obr/u2.png" width="195" height="155" alt="" border="1">&nbsp;
				<img src="../obr/u3.png" width="195" height="155" alt="" border="1">
			<tr><td> <td>2. Naprogramuj	
			<br><a href="prikl/ciary0.exe">kreslenie myšou</a>		
			<br><a href="prikl/ciary1.exe">animácia - stiahnu</a>		
			<br><a href="prikl/ciary2.exe">hra s farbami - stiahnu</a>		
			</table>
	<dt class=main>Krivky-plochy
	<dd>Ako krivku mono vykresli krunicu, elipsu a ich èasti. Pri kreslení len èiar musíme vypnú kreslenie vıplne
	    <br>Image1.Cancas.Brush.Style:=bsClear;
		<dl>
		<dt class=second>Ellipse(x1,y1,x2,y2)<dd>- vykreslí kruh (krunicu) alebo elipsu
		<dt class=second>Arc(x1,y1,x2,y2,x3,y3,x4,y4)<dd> - vykreslí èas krunice- elipsy 
			<br>x1,y1,x2,y2 - súradnice rámika pre elipsu
			<br>x3,y3 - prieseèníkom polpriamky stredu elipsy a [x3,z3] s elipsou získame štartovı bod
			<br>x4,y4 - prieseèníkom polpriamky stredu elipsy a [x4,z4] s elipsou získame koncovı bod
			<br>(tento príkaz nekreslí plochu)
		<dt class=second>Arc(X, Y, W, H, Angle, AngleLength)<dd>	
			x,y - súradnice ¾avého horného bodu rámika
			<br>w,h - rozmery rámika
			<br>Angle, AngleLength - štartovı a koncovı uhol - v 1/16 stupòa
		<dt class=second>Chord(x1,y1,x2,y2,x3,y3,x4,y4)<dd>- vykreslí èas krunice- elipsy a spojí úseèkou
			<br>x1,y1,x2,y2 - súradnice rámika pre elipsu
			<br>x3,y3 - prieseèníkom polpriamky stredu elipsy a [x3,z3] s elipsou získame štartovı bod
			<br>x4,y4 - prieseèníkom polpriamky stredu elipsy a [x4,z4] s elipsou získame koncovı bod
		<dt class=second>Chord(X, Y, W, H, Angle, AngleLength)
		<dt class=second>Pie(x1,y1,x2,y2,x3,y3,x4,y4)<dd> - vykreslí vısek krunice- elipsy a spojí úseèkou
			<br>x1,y1,x2,y2 - súradnice rámika pre elipsu
			<br>x3,y3 - prieseèníkom polpriamky stredu elipsy a [x3,z3] s elipsou získame štartovı bod
			<br>x4,y4 - prieseèníkom polpriamky stredu elipsy a [x4,z4] s elipsou získame koncovı bod
		<dt class=second>Pie(X, Y, W, H, Angle, AngleLength)
		</dl>
	<dt class=main>Farby a štıly vıplne
	<dd>Vlastnost vıplne mono nastavi vo vlastnosti Brush, ktorá má tieto monosti:
		<dl>
		<dt class=second>Bitmap
		<dd>- na vlozenie obrazka do pozadia (bude pris neskôr)
		<dt class=second>Color
		<dd>- farba vıplne, máme k dispozícii tie iste monosti ako pri èiarach
		<dt class=second>Style
		<dd>bsSolid-plné, bsCross-šachovnicovo, bsClear-iadne, bsDiagCross-šikmá šachovnica, 	
			bsBDiagonal-šikmo/, bsFDiagonal-šikmo\, bsHorizontal-vodorovne,	bsVertical-zvislo,	
			bsDense1, bsDense2,	bsDense3, bsDense4, bsDense5, bsDense6, bsDense7-šeï 
		</dl>
	<dt class=main>Plošné objekty
	<dd>
		<ul>
		<li><font color="Green">Rectangle(x1,y1,x2,y2), Rectangle(Rect:Trect)</font> 
		Trect-je záznam buï štvorice èísel, alebo dvojice bodov (Pomocou funkcie Rect(a,b,c,d))
		<li><font color="Green">FillRect(Rect:Trect)</font> - obdånik bez ohranièenia 
		<li><font color="Green">Ellipse(x1,y1,x2,y2)</font> - vykreslí kruh (krunicu) alebo elipsu
		<li><font color="Green">Arc, Chord, Pie</font> - èasti elipsy - krunice
		<li><font color="Green">CopyRect(const Dest: TRect; Canvas: TCanvas; const Source: TRect)</font>
		 	- pouíva sa na: 
			<ul>
			<li>kopírovanie obdånikovej oblasti z jedného canvasu na inı
			<li>odloenie obdånikovej oblasti do premennej
			<li>vrátenie obdånikovej oblasti z premennej do canvasu
			</ul>
		</ul>
	<dt class=main>Príklady na precvièenie:
		<dd><table cellspacing="20"><tr><td>
			<img src="../obr/ktstrofa.wmf" border="0" alt="" height="50">		
			<td>1. Vytvor nasledovné programy
			<br><a href="pruzina.exe">skladanie na seba kolmıch kmitov</a>		
			</table>

	<dt class=main>Text
	<dd>Podobne ako v pascale aj tu môme pridáva do grafiky text.
		<ul>
	<li>TextOut(x,y:integer; text:string) - vypíše na udané miesto text
	<li>TextHeight(const Text: String): Integer -  Zistí vıšku textu v bodoch
	<li>TextWidth(const Text: String): Integer -  Zistí šírku textu v bodoch
	<li>TextRect(Rect: TRect; X, Y: Integer; Text: String;) - Umoní zápis textu do vymedzenej oblasti
		<li>
	</ul>
    <dt class=second>Príklady</dt>	
	<dd><ol>
		<li>Nama¾uj kovovú rúru
		<li>Nama¾uj snehuliaka 
		<li>Nama¾uj kvietok s 8-mimi èervenımi lupeòmi
		<li>Namaluj korálkovı náhrdelník, na modrej niti v tvare elipsy budú modré korálky
		<li>Namaluj slneènú oblohu s nieko¾kımi obláèikmi
		<li>Nama¾uj vyšrafované ozubené koleso o polomere r a poète zubov z, vıške zubov vz.
			<br>Pomôcka:Súradnice bodov základne rovnostr. trojuholníkov získame pomocou vzahov:
			<br>x<sub>i</sub>=xs+r*cos(2*pi/z*i)
			<br>y<sub>i</sub>=ys+r*sin(2*pi/z*i)
			<br>Súradnice vrcholov budú na krunici o polomere (r+vz) a poèiatoènı uhol bude posunutı o (pi/z)
		<li>Namaluj nasledovnı obrázok na modrom podklade
			<img src="kruh1.gif"  border="0" alt="kruh1.bmp" align="middle"> 
		<li>Namaluj kocku, prièom farby stien sú rôzne a uhly otoèenia sa naèítajú z klávesnice
		<li>Namaluj kocku, pod¾a predošlého príkladu a cez polovice hlán "odre" jeden roh kocky, rovinu rezu vyšrafuj
		<li>Nama¾uj tvár s oèami a ústami. Na stlaèenie kláves sa postave pohıbu oèi, ukáu zuby, pohnú uši 
		<li>Naprogramuj pohybujúcu sa ltú loptu odráajúcu sa od stien obrazovky
		<li>Naprogramuj hru pre dvoch hráèov, ktorı sa striedajú pri klávesnici a snaia sa pomocou dela súpera zneškodni
			Na mieste dopadu náboja sa najprv zobrazí malı ltı kruh potom väèší èervenı a napokon ešte väèší farmou pozadia.
			Kadı hráè volí uhol a rıchlos strely.
		<li>Naprogramuj grafickı editor, ktorı dovolí klás na plochu grafické objekty, tieto objekty evidova v poli, editova objety, pridáva, odstraòova a zapisova a èíta z disku.
		<li>Naprogramuj pohybujúce sa autíèka na kriovatke riadenej svetelnımi semaformi, autíèka prichádyajú náhodne z rôznych smerov.
 		</ol>
</dl>

</body>

</dl>  


</body>
</html>

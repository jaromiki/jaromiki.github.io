  <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
    <meta name="Content-language" content="sk"> 
    <LINK href="../../css/style.css" type="text/css" rel=stylesheet>
</head>

<body>
<h3>Hmla</h3>
Pre vytvorenie realistickej scény mono nastavi hmlu, ktorá skrıva objekty, ktoré sú od nás na osi y viac vzdialené.
Existujú viaceré scenáre zobrazenia hmly, tu si ukáeme hmlu lineárnu a exponenciálnu (ide o to ako narastá hustita hmly
v závislosti od súradnice y). 
Polohu hmly urèujeme súradnicami z (start, end) vzdialenosou od oka
<dl><dt>Umonenie hmly
	<dd>Štandartne je vıpoèet hmly vypnutı a ak chceme hmlu pouíva, musíme zapnú hmlu podobne ako pri zadávaní svetla
		<br>Príkaz: <b>glEnable(GL_FOG)</b>
		<br>Bez tohoto príkazy pre vıpoèet hmly nemajú iadny úèinok
	<dt>Typ hmly
	<dd>Ako sme u uviedli máme monosti:
		<ul><li>GL_LINEAR
			<li>GL_EXP
			<li>GL_EXP2
		</ul>
		<dl><dt>lineárna hmla
			<dd>Aby sme pochopili ako lineárnu hmlu nastavi, musíme vedie kde sa nachádza "oko" scény. Štandartne je 
				umiestnené v bode [0;0;0]. Pri tvorbe hmly je vıhodné ma celú scénu v jednom polpriestore (napr. všetky z súradnice budú záporné/kladné 
				- èo dosiahneme príkazom glTranslatef())
				lebo hmla je vytvárané symetricky v oboch polpriestoroch.
				Pri lineárnej hmle urèujeme zaèiatok, kde hmla zaèína (par. GL_FOG_START) a kde konèí (par. GL_FOG_END)
				Oba nastavíme príkazom:
				<br>glFogf(GL_FOG_START,<i>hodnota</i>); &nbsp; &nbsp;//default je 0
				<br>glFogf(GL_FOG_END,<i>hodnota</i>); &nbsp; &nbsp;//default je 1
				<br>Vıpoèet ko¾ko bude pôvodnej farby z intervalu &lt;0;1&gt; je urèené vzorcom f=(end-z)/(end-start),
				<br>vısledná farba sa vypoèíta pod¾a vzorca: vysl_farba =f*farba+(1-f)*hmla.
				<br>Pre z&lt;start je farba bez hmly, pre z&gt;end je len farba hmly
				<br><br>Príklad:
				<br>Nech scéna je tvorená telesom o súradniciach z patriacich do intervalu &lt;-3;3&gt;. Nedá sa priamo vytvori hmlu napr. od 1 po 3,
				ale posunutím scény napr. príkazom glTranslatef(0,0,+4); zväèšíme z-súradnice o 4 a teleso bude teda na sur. &lt;+1;+7&gt;.
				<br>Urèením napr. start = 9, end = 1 bude "zaèiatok" tesesa v ¾ahkej hmle a najvzdialenejšia èas tesesa bude u v úplnej hmle.
				<br>Urèením napr. start = 0, end = 6 bude hmla narasta v opaènom smere (smerom ku nám) a vidie budeme lepšie vzdialenejšie èasti telesa.
				<div style="border-width:3;border-style:outset;width:700px;margin:10px;background-color:silver;">
   				<div align="right" style="background-color:#3366ff; width:700px; padding:0;border-width:0;">
	   				<img src="../obr/krizik.jpg" width="70px" height="22px" border="0" alt="" style="margin:0">
   				</div>
  				<div style="background-color:silver; width:700px;" onclick="mdole(event.pageX-this.offsetLeft-5,event.pageY-this.offsetTop-5 );">
				<pre> glMatrixMode(GL_MODELVIEW);
 glLoadIdentity();
 glTranslatef(0,0,+4);     //posun telesa o 4 ku nám
 glRotatef(20,1,0,0);      //pootoèenie okolo osi x o 20 stupòov
 glRotatef(uholx,0,1,0);   //pootoèenie okolo osi y, ve¾kos meníme v èasovaèi
 glBegin(GL_QUADS);
        glTexCoord2f(0.0, 0.0); glVertex3i(0,0,-3);
        glTexCoord2f(1.0, 0.0); glVertex3i(3,0,-3);
        glTexCoord2f(1.0, 1.0); glVertex3i(3,3,-3);
        glTexCoord2f(0.0, 1.0); glVertex3i(3,3,-3);

        glTexCoord2f(0.0, 0.0); glVertex3i(0,0,+3);
        glTexCoord2f(1.0, 0.0); glVertex3i(3,0,+3);
        glTexCoord2f(1.0, 1.0); glVertex3i(3,3,+3);
        glTexCoord2f(0.0, 1.0); glVertex3i(0,3,+3);

        glTexCoord2f(0.0, 0.0); glVertex3i(0,3,+3);
        glTexCoord2f(1.0, 0.0); glVertex3i(3,3,+3);
        glTexCoord2f(1.0, 1.0); glVertex3i(3,3,-3);
        glTexCoord2f(0.0, 1.0); glVertex3i(0,3,-3);
 glEnd();
 glFlush();
 SwapBuffers(hdc);
				</pre>
 				</div>
				</div>
		<dt>exponenciálna hmla 1
		<dd>Tu je automaticky nastavenı zaèiatok hmly do z=0 a narastá do nekoneèna s rastúcim |z| pod¾a funkcie f=exp(-denzity*|z|), 
			parameter denzity nastavíme príkazom:
			<br>glFogf(GL_FOG_DENSITY,<i>hodnota</i>); &nbsp; &nbsp;//default hodnota je 1
			<br>Povolené sú kladné èísla, èím väèšiu hodnotu zadáme tım hmla hustne rıchlejšie. Obyèajne posunieme objekty do zápornıch èísel
			aby hmla narastala smerom od nás. Nevıhodou takejto hmly je nemonos urèi oblas, kde by hmla ešte nebola (oproti linear)
			a tie dos rıchly nástup narastania hmly (pomalší nábeh je pri vo¾be EXP2)
			 


</body>		

</html>

<?xml version="1.0" encoding="ISO-8859-2"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="cs" lang="CS">
<head>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-2" />
<meta http-equiv="content-language" content="cs" />
<meta http-equiv="content-script-type" content="text/javascript" />
<meta http-equiv="content-style-type" content="text/css" />

<meta name="robots" content="all, follow" />
<meta name="resource-type" content="document" />

<meta name="description" content="NeHe OpenGL Tutoriály v èe¹tinì, programování 3D grafiky, èlánky, programy se zdrojovými kódy..." />
<meta name="keywords" content="opengl, nehe, tutoriály, woq, programování, 3D" />
<meta name="author" content="all: Michal Turek - Woq; woq (zavináè) seznam.cz" />
<meta name="copyright" content="Copyright (c) 2002, 2003, 2004 Michal Turek - Woq" />

<title>CZ NeHe OpenGL - Lekce 48 - ArcBall rotace</title>

<link rel="shortcut icon" href="skin/default/web.ico" type="image/x-icon" />
<link href="skin/default.css" rel="stylesheet" type="text/css" media="all" />
<link href="skin/print.css" rel="stylesheet" type="text/css" media="print" />

</head>

<body>

<!-- Levý sloupec -->
<div class="levy">
<div id="main_menu">
<a href="http://nehe.ceske-hry.cz/"><img src="skin/default/web_logo.gif" width="135" height="135" style="margin-left: 5px;" alt="CZ NeHe OpenGL" /></a>

<div class="main_menu_bez_loga">

<ul class="text_main_menu">
<li><a href="my.php" title="Pøekladatelé NeHe Tutoriálù a autoøi èlánkù">My</a></li>
<li><a href="novinky.php" title="Co je nového">Novinky</a></li>
<li><a href="navigacni_mapa.php" title="Pøehledná navigace na jednotlivé stránky, které dohromady tvoøí tento web">Navigaèní mapa</a></li>
<li><a href="kontakt.php" title="Kontakt na správce tohoto webu">Kontakt</a></li>
<li><a href="http://forum.programovani.com/" title="Diskusní fórum">Fórum</a></li>
</ul>

<ul class="text_main_menu">
<li><a href="clanky.php" title="Obsah èlánkù">Èlánky</a></li>
<li><a href="tut_obsah.php" title="Obsah NeHe OpenGL Tutoriálù">NeHe Tutoriály</a></li>
<li><a href="33D_index.php" title="Obsah Free3D (33D) Basecode">33D Basecode</a></li>
<li><a href="programy.php" title="Programy od èeských autorù">Èeské programy</a></li>
<li><a href="cl_gl_zacinam.php" title="Kde zaèít pøi uèení OpenGL">Pomoc, zaèínám</a></li>
<li><a href="odkazy.php" title="Jiné zdroje informací">Odkazy</a></li>
<li><a href="cl_gl_faq.php" title="FAQ: Èasto kladené dotazy">FAQ</a></li>
</ul>

<ul class="text_main_menu">
<li><a href="spoluprace.php" title="Nechcete se podílet na tvorbì tìchto webových stránek?">Spolupráce...?</a></li>
<li><a href="download.php" title="Stahujte">Download</a></li>
<li><a href="skiny.php" title="Nastavte si jiný layout a design stránek">Skiny</a></li>
<li><a href="javascript:window.print();" title="Vytiskne tuto stránku">Tisk</a></li>
</ul>

<ul class="text_main_menu">
<li>
<form action="p_fulltext.php" method="post" onsubmit="if(!this.najit.value || this.najit.value=='výraz ...') { alert('Byl zadán prázdný øetìzec!'); this.najit.focus(); return false; }">
<input type="text" name="najit" size="12" value="výraz ..." onclick="this.value=''" /><br />
<input type="submit" value="Najít" />
</form>
</li>
</ul>

<ul class="text_main_menu">
<li>Online ètenáøù: 3</li>
</ul>

</div>

</div>
</div>
<!-- Levý sloupec (konec) -->

<!-- Pravý sloupec -->
<div class="pravy">
<div id="tut_menu">

<ul class="text_tut_menu">
<li class="li_tut"><a href="tut_00.php" title="Lekce 0 - Pøedmluva k NeHe Tutoriálùm">00</a></li>
<li class="li_tut"><a href="tut_01.php" title="Lekce 1 - Vytvoøení OpenGL okna ve Windows">01</a></li>
<li class="li_tut"><a href="tut_02.php" title="Lekce 2 - Vytváøení trojúhelníkù a ètyøúhelníkù">02</a></li>
<li class="li_tut"><a href="tut_03.php" title="Lekce 3 - Barvy">03</a></li>
<li class="li_tut"><a href="tut_04.php" title="Lekce 4 - Rotace">04</a></li>
<li class="li_tut"><a href="tut_05.php" title="Lekce 5 - Pevné objekty">05</a></li>
<li class="li_tut"><a href="tut_06.php" title="Lekce 6 - Textury">06</a></li>
<li class="li_tut"><a href="tut_07.php" title="Lekce 7 - Texturové filtry, osvìtlení, ovládání pomocí klávesnice">07</a></li>
<li class="li_tut"><a href="tut_08.php" title="Lekce 8 - Blending">08</a></li>
<li class="li_tut"><a href="tut_09.php" title="Lekce 9 - Pohyb bitmap ve 3D prostoru">09</a></li>
<li class="li_tut"><a href="tut_10.php" title="Lekce 10 - Vytvoøení 3D svìta a pohyb v nìm">10</a></li>
<li class="li_tut"><a href="tut_11.php" title="Lekce 11 - Efekt vlnící se vlajky">11</a></li>
<li class="li_tut"><a href="tut_12.php" title="Lekce 12 - Display list">12</a></li>
<li class="li_tut"><a href="tut_13.php" title="Lekce 13 - Bitmapové fonty">13</a></li>
<li class="li_tut"><a href="tut_14.php" title="Lekce 14 - Outline fonty">14</a></li>
<li class="li_tut"><a href="tut_15.php" title="Lekce 15 - Mapování textur na fonty">15</a></li>
<li class="li_tut"><a href="tut_16.php" title="Lekce 16 - Mlha">16</a></li>
<li class="li_tut"><a href="tut_17.php" title="Lekce 17 - 2D fonty z textur">17</a></li>
<li class="li_tut"><a href="tut_18.php" title="Lekce 18 - Kvadriky">18</a></li>
<li class="li_tut"><a href="tut_19.php" title="Lekce 19 - Èásticové systémy">19</a></li>
<li class="li_tut"><a href="tut_20.php" title="Lekce 20 - Maskování">20</a></li>
<li class="li_tut"><a href="tut_21.php" title="Lekce 21 - Pøímky, antialiasing, èasování, pravoúhlá projekce, základní zvuky a jednoduchá herní logika">21</a></li>
<li class="li_tut"><a href="tut_22.php" title="Lekce 22 - Bump Mapping &amp; Multi Texturing">22</a></li>
<li class="li_tut"><a href="tut_23.php" title="Lekce 23 - Mapování textur na kulové kvadriky">23</a></li>
<li class="li_tut"><a href="tut_24.php" title="Lekce 24 - Výpis OpenGL roz¹íøení, oøezávací testy a textury z TGA obrázkù">24</a></li>
<li class="li_tut"><a href="tut_25.php" title="Lekce 25 - Morfování objektù a jejich nahrávání z textového souboru">25</a></li>
<li class="li_tut"><a href="tut_26.php" title="Lekce 26 - Odrazy a jejich oøezávání za pou¾ití stencil bufferu">26</a></li>
<li class="li_tut"><a href="tut_27.php" title="Lekce 27 - Stíny">27</a></li>
<li class="li_tut"><a href="tut_28.php" title="Lekce 28 - Bezierovy køivky a povrchy, fullscreen fix">28</a></li>
<li class="li_tut"><a href="tut_29.php" title="Lekce 29 - Blitter, nahrávání .RAW textur">29</a></li>
<li class="li_tut"><a href="tut_30.php" title="Lekce 30 - Detekce kolizí">30</a></li>
<li class="li_tut"><a href="tut_31.php" title="Lekce 31 - Nahrávání a renderování modelù">31</a></li>
<li class="li_tut"><a href="tut_32.php" title="Lekce 32 - Picking, alfa blending, alfa testing, sorting">32</a></li>
<li class="li_tut"><a href="tut_33.php" title="Lekce 33 - Nahrávání komprimovaných i nekomprimovaných obrázkù TGA">33</a></li>
<li class="li_tut"><a href="tut_34.php" title="Lekce 34 - Generování terénù a krajin za pou¾ití vý¹kového mapování textur">34</a></li>
<li class="li_tut"><a href="tut_35.php" title="Lekce 35 - Pøehrávání videa ve formátu AVI">35</a></li>
<li class="li_tut"><a href="tut_36.php" title="Lekce 36 - Radial Blur, renderování do textury">36</a></li>
<li class="li_tut"><a href="tut_37.php" title="Lekce 37 - Cel-Shading">37</a></li>
<li class="li_tut"><a href="tut_38.php" title="Lekce 38 - Nahrávání textur z resource souboru &amp; texturování trojúhelníkù">38</a></li>
<li class="li_tut"><a href="tut_39.php" title="Lekce 39 - Úvod do fyzikálních simulací">39</a></li>
<li class="li_tut"><a href="tut_40.php" title="Lekce 40 - Fyzikální simulace lana">40</a></li>
<li class="li_tut"><a href="tut_41.php" title="Lekce 41 - Volumetrická mlha a nahrávání obrázkù pomocí IPicture">41</a></li>
<li class="li_tut"><a href="tut_42.php" title="Lekce 42 - Více viewportù">42</a></li>
<li class="li_tut"><a href="tut_43.php" title="Lekce 43 - FreeType Fonty v OpenGL">43</a></li>
<li class="li_tut"><a href="tut_44.php" title="Lekce 44 - Èoèkové efekty">44</a></li>
<li class="li_tut"><a href="tut_45.php" title="Lekce 45 - Vertex Buffer Object (VBO)">45</a></li>
<li class="li_tut"><a href="tut_46.php" title="Lekce 46 - Fullscreenový antialiasing">46</a></li>
<li class="li_tut"><a href="tut_47.php" title="Lekce 47 - CG vertex shader">47</a></li>
<li class="li_tut"><a href="tut_48.php" title="Lekce 48 - ArcBall rotace">48</a></li>
</ul>

</div>
</div>
<!-- Pravý sloupec (konec) -->

<!-- Vlastní obsah stránky -->
<div class="stred">

<!--[if IE ]>
<div style="text-align: center;">
<a href="http://firefox.czilla.cz/"><img alt="Mozilla Firefox: Objevte znovu web" title="Mozilla Firefox: Objevte znovu web" style="border:none; width:468px;height:60px" src="http://firefox.czilla.cz/img/p/cz-ff-468x60-w-objevte.png" /></a>
</div>
<![endif]-->

<img src="images/nehe_tut/tut_48.jpg" class="nehe_maly" alt="Lekce 48" />

<h1>Lekce 48 - ArcBall rotace</h1>

<p class="nadpis_clanku">Nebylo by skvìlé otáèet modelem pomocí my¹i jednoduchým drag &amp; drop? S ArcBall rotacemi je to mo¾né. Moje implementace je zalo¾ená na my¹lenkách Brettona Wadea a Kena Shoemakea. Kód také obsahuje funkci pro rendering toroidu - kompletnì i s normálami.</p>

<p class="netisk"><a href="tut_48_sk.php">Verze ve sloven¹tinì...</a></p>

<p>ArcBall funguje tak, ¾e mapuje okenní souøadnice kliknutí pøímo do souøadnic ArcBallu. Zmen¹í pomìr souøadnic my¹i z rozsahu [0..¹íøka, 0..vý¹ka] na rozsah [-1..1, 1..-1]. Pamatujte si, ¾e aby v OpenGL dosáhl korektního výsledku, musí pøevrátit znamínko y souøadnice. Vzorec vypadá takto:</p>

<p class="src0"><span class="kom">MousePt.X  =  ((MousePt.X / ((Width  - 1) / 2)) - 1);</span></p>
<p class="src0"><span class="kom">MousePt.Y  = -((MousePt.Y / ((Height - 1) / 2)) - 1);</span></p>

<p>Jediný dùvod, proè jsme mìnili mìøítko souøadnic je, abychom zjednodu¹ili matematiku, nicménì ¹»astnou shodou okolností to dovoluje kompilátoru kód trochu optimalizovat. Dále vypoèítáme délku vektoru a urèíme, jestli se nachází nebo nenachází uvnitø koule. Pokud ano, vrátíme vektor z jejího vnitøku, jinak normalizujeme bod a vrátíme nejbli¾¹í pozici k vnìj¹ku koule. Poté, co máme oba vektory, získáme vektor souèasnì kolmý na poèáteèní i koncový vektor, èím¾ dostaneme quaternion. S tímto v rukách máme dost informací na vygenerování rotaèní matice.</p>

<p>Konstruktoru tøídy ArcBall budeme pøedávat rozmìry okna.</p>

<p class="src0">ArcBall_t::ArcBall_t(GLfloat NewWidth, GLfloat NewHeight)</p>

<p>Kdy¾ u¾ivatel klikne my¹í, vypoèítáme poèáteèní vektor podle toho, kam kliknul.</p>

<p class="src0">void ArcBall_t::click(const Point2fT* NewPt)</p>

<p>Kdy¾ táhne my¹í (drag), aktualizujeme koncový vektor pomocí metody drag() a pokud je poskytnut i výstupní quaternion, aktualizujeme ho pomocí výsledné rotace.</p>

<p class="src0">void ArcBall_t::drag(const Point2fT* NewPt, Quat4fT* NewRot)</p>

<p>Pøi zmìnì velikosti okna jednodu¹e aktualizujeme i rozmìry ArcBallu.</p>

<p class="src0">void ArcBall_t::setBounds(GLfloat NewWidth, GLfloat NewHeight)</p>

<p>V projektu budeme potøebovat i nìkolik dal¹ích promìnných. Transformation je finální transformace, která urèuje rotaci, ale také posunutí. LastRot pøedstavuje poslední zaznamenanou rotaci od konce dragu a ThisRot urèuje rotaci v dobì táhnutí my¹í. V¹echny tøi na zaèátku inicializujeme na matici identity.</p>

<p>Pøi kliknutí se zaèíná z identického stavu rotace a kdy¾ následnì táhneme, rotace se poèítá od pozice kliknutí a¾ po bod táhnutí. I kdy¾ na otáèení objektù ve scénì pou¾íváme tuto implementaci, je dùle¾ité poznamenat, ¾e nerotujeme samotný ArcBall. S rostoucími (pøírùstkovými) rotacemi se musíme vypoøádat sami. To je úkol LastRot a ThisRot. LastRot si mù¾eme pøedstavit jako v¹echny rotace a¾ do teï a ThisRot jako aktuální rotace. V¾dy, kdy¾ zaène rotace, ThisRot se modifikuje pomocí originální rotace a potom se aktualizuje jako výsledek souèinu s LastRot (a také se upraví koneèná transformace). Po skonèení dragu pøiøadíme do LastRot hodnoty z ThisRot. Kdybychom neakumulovali rotace samotné, model by vypadal, jako by se pøi ka¾dém kliknutí pøilepil na zaèátek souøadnic. Napøíklad pøi rotaci okolo osy x o 90 stupòù a potom o 45 stupòù, chceme získat 135 namísto posledních 45.</p>

<p class="src0">Matrix4fT Transform =<span class="kom">// Finální transformace</span></p>
<p class="src0">{</p>
<p class="src1">1.0f, 0.0f, 0.0f, 0.0f,</p>
<p class="src1">0.0f, 1.0f, 0.0f, 0.0f,</p>
<p class="src1">0.0f, 0.0f, 1.0f, 0.0f,</p>
<p class="src1">0.0f, 0.0f, 0.0f, 1.0f</p>
<p class="src0">};</p>
<p></p>
<p class="src0">Matrix3fT LastRot =<span class="kom">// Minulá rotace</span></p>
<p class="src0">{</p>
<p class="src1">1.0f, 0.0f, 0.0f,</p>
<p class="src1">0.0f, 1.0f, 0.0f,</p>
<p class="src1">0.0f, 0.0f, 1.0f</p>
<p class="src0">};</p>
<p></p>
<p class="src0">Matrix3fT ThisRot =<span class="kom">// Souèasná rotace</span></p>
<p class="src0">{</p>
<p class="src1">1.0f, 0.0f, 0.0f,</p>
<p class="src1">0.0f, 1.0f, 0.0f,</p>
<p class="src1">0.0f, 0.0f, 1.0f</p>
<p class="src0">};</p>

<p>Co se týèe zbytku promìnných (kromì isDragged), v¹echno, co s nimi musíme udìlat, je v¾dy je ve správný èas aktualizovat. ArcBall potøebuje, aby se jeho hranice pøi ka¾dé zmìnì velikosti okna resetovaly. MousePt se aktualizuje pøi pohybu my¹í nebo stisknutí tlaèítka a isClicked/isRClicked pøi stlaèení levého/pravého tlaèítka my¹i. Levé tlaèítko slou¾í pro dragging a pravé pro resetování v¹ech rotací do výchozího identity stavu.</p>

<p class="src0">ArcBallT ArcBall(640.0f, 480.0f);<span class="kom">// Instance ArcBallu</span></p>
<p class="src0">Point2fT MousePt;<span class="kom">// Pozice my¹i</span></p>
<p></p>
<p class="src0">bool isClicked  = false;<span class="kom">// Kliknuto my¹í?</span></p>
<p class="src0">bool isRClicked = false;<span class="kom">// Kliknuto pravým tlaèítkem my¹i?</span></p>
<p class="src0">bool isDragging = false;<span class="kom">// Táhnuto my¹í?</span></p>

<p>Aktualizace promìnných vypadají takto:</p>

<p class="src0"><span class="kom">// Konec ReshapeGL()</span></p>
<p class="src1">ArcBall.setBounds((GLfloat)width, (GLfloat)height);<span class="kom">// Nastaví hranice pro ArcBall</span></p>
<p></p>
<p class="src0"><span class="kom">// Funkce WindowProc() - o¹etøení zpráv my¹i</span></p>
<p class="src1">case WM_MOUSEMOVE:<span class="kom">// Pohyb</span></p>
<p class="src2">MousePt.s.X = (GLfloat)LOWORD(lParam);</p>
<p class="src2">MousePt.s.Y = (GLfloat)HIWORD(lParam);</p>
<p class="src2">isClicked = (LOWORD(wParam) & MK_LBUTTON) ? true : false;</p>
<p class="src2">isRClicked = (LOWORD(wParam) & MK_RBUTTON) ? true : false;</p>
<p class="src2">break;</p>
<p></p>
<p class="src1">case WM_LBUTTONUP:<span class="kom">// Uvolnìní levého tlaèítka</span></p>
<p class="src2">isClicked = false;</p>
<p class="src2">break;</p>
<p></p>
<p class="src1">case WM_RBUTTONUP:<span class="kom">// Uvolnìní pravého tlaèítka</span></p>
<p class="src2">isRClicked  = false;</p>
<p class="src2">break;</p>
<p></p>
<p class="src1">case WM_LBUTTONDOWN:<span class="kom">// Kliknutí levým tlaèítkem</span></p>
<p class="src2">isClicked = true;</p>
<p class="src2">break;</p>
<p></p>
<p class="src1">case WM_RBUTTONDOWN:<span class="kom">// Kliknutí pravým tlaèítkem</span></p>
<p class="src2">isRClicked = true;</p>
<p class="src2">break;</p>

<p>Máme-li toto v¹echno, je na èase vypoøádat se s klikací logikou.</p>

<p class="src0">void Update(DWORD milliseconds)<span class="kom">// Aktualizace scény</span></p>
<p class="src0">{</p>
<p class="src1">if (g_keys-&gt;keyDown [VK_ESCAPE] == TRUE)<span class="kom">// Stisk ESC</span></p>
<p class="src1">{</p>
<p class="src2">TerminateApplication(g_window);<span class="kom">// Ukonèení programu</span></p>
<p class="src1">}</p>
<p></p>
<p class="src1">if (g_keys-&gt;keyDown [VK_F1] == TRUE)<span class="kom">// Stisk F1</span></p>
<p class="src1">{</p>
<p class="src2">ToggleFullscreen(g_window);<span class="kom">// Pøepnutí do fullscreenu</span></p>
<p class="src1">}</p>
<p></p>
<p class="src1">if (isRClicked)<span class="kom">// Kliknutí pravým tlaèítkem - reset v¹ech rotací</span></p>
<p class="src1">{</p>
<p class="src2">Matrix3fSetIdentity(&amp;LastRot);</p>
<p class="src2">Matrix3fSetIdentity(&amp;ThisRot);</p>
<p class="src2">Matrix4fSetRotationFromMatrix3f(&amp;Transform, &amp;ThisRot);</p>
<p class="src1">}</p>
<p></p>
<p class="src1">if (!isDragging)<span class="kom">// Netáhne se my¹í?</span></p>
<p class="src1">{</p>
<p class="src2">if (isClicked)<span class="kom">// Kliknutí?</span></p>
<p class="src2">{</p>
<p class="src3">isDragging = true;<span class="kom">// Pøíprava na dragging</span></p>
<p class="src3">LastRot = ThisRot;<span class="kom">// Nastavení minulé statické rotace na tuto</span></p>
<p class="src3">ArcBall.click(&amp;MousePt);<span class="kom">// Aktualizace startovního vektoru a pøíprava na dragging</span></p>
<p class="src2">}</p>
<p class="src1">}</p>
<p class="src1">else<span class="kom">// U¾ se táhne</span></p>
<p class="src1">{</p>
<p class="src2">if (isClicked)<span class="kom">// Je je¹tì stisknuto tlaèítko?</span></p>
<p class="src2">{</p>
<p class="src3">Quat4fT ThisQuat;</p>
<p></p>
<p class="src3">ArcBall.drag(&amp;MousePt, &amp;ThisQuat);<span class="kom">// Aktualizace koncového vektoru a získání rotace jako quaternionu</span></p>
<p class="src3">Matrix3fSetRotationFromQuat4f(&amp;ThisRot, &amp;ThisQuat);<span class="kom">// Konvertování quaternionu na Matrix3fT</span></p>
<p class="src3">Matrix3fMulMatrix3f(&amp;ThisRot, &amp;LastRot);<span class="kom">// Akumulace minulé rotace do této</span></p>
<p class="src3">Matrix4fSetRotationFromMatrix3f(&amp;Transform, &amp;ThisRot);<span class="kom">// Nastavení koncové transformaèní rotace na tuto</span></p>
<p class="src2">}</p>
<p class="src2">else<span class="kom">// U¾ není stisknuto</span></p>
<p class="src2">{</p>
<p class="src3">isDragging = false;<span class="kom">// Konec draggingu</span></p>
<p class="src2">}</p>
<p class="src1">}</p>
<p class="src0">}</p>

<p>Teï u¾ jenom potøebujeme aplikovat transformaci na na¹e modely a jsme hotovi.</p>

<p class="src0">void Draw(void)<span class="kom">// Vykreslování</span></p>
<p class="src0">{</p>
<p class="src1">glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);<span class="kom">// Smazání bufferù</span></p>
<p class="src1">glLoadIdentity();<span class="kom">// Reset matice</span></p>
<p class="src1">glTranslatef(-1.5f, 0.0f, -6.0f);<span class="kom">// Translace doleva a do hloubky</span></p>
<p></p>
<p class="src1">glPushMatrix();<span class="kom">// Ulo¾ení matice</span></p>
<p class="src2">glMultMatrixf(Transform.M);<span class="kom">// Aplikování transformace</span></p>
<p class="src2">glColor3f(0.75f, 0.75f, 1.0f);<span class="kom">// Barva</span></p>
<p class="src2">Torus(0.30f, 1.00f);<span class="kom">// Vykreslení toroidu (speciální funkce)</span></p>
<p class="src1">glPopMatrix();<span class="kom">// Obnovení pùvodní matice</span></p>
<p></p>
<p class="src1">glLoadIdentity();<span class="kom">// Reset matice</span></p>
<p class="src1">glTranslatef(1.5f, 0.0f, -6.0f);<span class="kom">// Translace doprava a do hloubky</span></p>
<p></p>
<p class="src1">glPushMatrix();<span class="kom">// Ulo¾ení matice</span></p>
<p class="src2">glMultMatrixf(Transform.M);<span class="kom">// Aplikování transformace</span></p>
<p class="src2">glColor3f(1.0f, 0.75f, 0.75f);<span class="kom">// Barva</span></p>
<p class="src2">gluSphere(quadratic,1.3f,20,20);<span class="kom">// Vykreslení koule</span></p>
<p class="src1">glPopMatrix();<span class="kom">// Obnovení matice</span></p>
<p></p>
<p class="src1">glFlush();<span class="kom">// Flushnutí renderovací pipeline</span></p>
<p class="src0">}</p>

<p>Pøidal jsem i ukázku kompletního kódu, který toto v¹echno demonstruje. Nemusíte pou¾ívat moji matematiku a funkce stojící na pozadí, naopak, pokud si vìøíte, doporuèuji vytvoøit si vlastní. Nicménì i s mými vzorci a výpoèty by v¹echno mìlo bez problémù fungovat.</p>

<p class="autor">napsal: Terence J. Grant <span class="transform_email">&lt;tjgrant (zavináè) tatewake.com&gt;</span><br />
do sloven¹tiny pøelo¾il: Pavel Hradský - PcMaster <span class="transform_email">&lt;pcmaster (zavináè) stonline.sk&gt;</span><br />
do èe¹tiny pøelo¾il: Michal Turek - Woq <span class="transform_email">&lt;WOQ (zavináè) seznam.cz&gt;</span></p>

<h3 class="zdroj_kody_nadpis">Zdrojové kódy</h3>

<ul class="zdroj_kody">
<li><a href="http://nehe.gamedev.net/data/lessons/vc/lesson48.zip">Visual C++</a> kód této lekce.</li>
<li><a href="http://nehe.gamedev.net/data/lessons/bcb6/lesson48_bcb6.zip">Borland C++ Builder 6</a> kód této lekce. ( <a href="mailto:conglth@hotmail.com">Le Thanh Cong</a> )</li>
<li><a href="http://nehe.gamedev.net/data/lessons/devc/lesson48.zip">Dev C++</a> kód této lekce. ( <a href="mailto:robohog_64@hotmail.com">Victor Andr?e</a> )</li>
<li><a href="http://nehe.gamedev.net/data/lessons/linuxglx/lesson48.tar.gz">Linux/GLX</a> kód této lekce. ( <a href="mailto:werkt@csh.rit.edu">George Gensure</a> )</li>
<li><a href="http://nehe.gamedev.net/data/lessons/vs_net/lesson48.zip">Visual Studio .NET</a> kód této lekce. ( <a href="mailto:webmaster@joachimrohde.de">Joachim Rohde</a> )</li>
</ul>

<div class="okolo_img"><img src="images/nehe_tut/tut_48_big.jpg" class="nehe_velky" alt="Lekce 48" /></div>
<p class="okolni_lekce"><a href="tut_47.php">&lt;&lt;&lt; Lekce 47</a></p>


<div class="netisk">
<h3 class="d_nadpis">Diskuze ke èlánku</h3>

<form action="d_view.php" method="post" class="d_o_obsah">

<div class="d_o_zprava">
<div class="d_o_jmeno">VDO</div>
<div class="d_o_datumcas">23.04.2004 - 10:29:37</div>
<div>
<input type="checkbox" name="id_0" id="id_0" value="1" />
<span class="d_o_nadpis" style="margin-left: 0px;"><a href="d_view.php?f=tut_48.php&j=0">citajte</a></span>
</div>
</div>

<div class="okolo_img" style="margin-top: 20px;">
<input type="submit" name="zobrazit_vybrane" id="zobrazit_vybrane" value="Zobrazit vybrané" class="tlacitko" />
<input type="submit" name="zobrazit_vse" id="zobrazit_vse" value="Zobrazit v¹e" class="tlacitko" />
<input type="submit" name="vlozit_novy" id="vlozit_novy" value="Vlo¾it nový" class="tlacitko" />
<input type="hidden" name="f" id="f" value="tut_48.php" />
</div>
</form>
</div>
<!-- Informace o webu -->
<center><div id="informace">
<img src="images/my/woq.gif" width="60" height="60" align="left" alt="Woq logo" />
<div style="margin-left: 70px">
<div><strong>CZ NeHe OpenGL, v¹e o programování 3D grafiky</strong></div>
<div>Copyright &copy; 2002-2007 Michal Turek <span class="transform_email">&lt;WOQ (zavináè) seznam.cz&gt;</span></div>
<div style="margin-top: 5px">Komerèní publikování v ti¹tìné, elektronické nebo jiné podobì je bez výslovného souhlasu zakázáno. Redistribuce pro výukové úèely nebo osobní pou¾ití je v¹ak povolena.</div>
</div>
</div></center>
<!-- Informace o webu (konec) -->

</div>
<!-- Vlastní obsah stránky (konec) -->

<script src="http://c1.navrcholu.cz/code?site=56575;t=b14"
type="text/javascript"></script><noscript><div><a
href="http://navrcholu.cz/"><img
src="http://c1.navrcholu.cz/hit?site=56575;t=b14;ref=;jss=0"
width="14" height="14" alt="NAVRCHOLU.cz"
style="border:none" /></a></div></noscript>

</body>
</html>

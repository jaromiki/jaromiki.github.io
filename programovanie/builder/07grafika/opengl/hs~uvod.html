<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<META http-equiv=Content-Language content=sk>
<META http-equiv=Content-Type content="text/html; charset=windows-1250">
<html>
<head>
	<title>OpenGL-úvod</title>
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
    <meta name="Content-language" content="sk"> 
    <LINK href="css/style.css" type="text/css" rel=stylesheet>

</head>

<body>
<dl><dt>Základné informácie o OpenGL
	<dd>Kninica OpenGL(Open Graphics Library) bola navrhnutá firmou SGI (Silicon Graphics Inc.) 
	ako aplikaèné programové rozhranie (Application Programming Interface - API) k akcelerovanım grafickım kartám 
	resp. celım grafickım subsystémom. Predchodcom tejto kninice bola programová kninica IRIS GL (Silicon Graphics IRIS Graphics Library). 
	OpenGL byla navrhnutá s dôrazom na to, aby byla pouitelná na rôznych typoch grafickıch akcelerátorov a aby ju bolo moné poui 
	aj v prípade, e na nejakej platforme iadny grafickı akcelerátor nieje nainštalovanı - v tom prípade sa pouije softwarová simulácia. 
	V súèasnej dobe mono kninicu OpenGL poui na rôznych verziách unixovıch systémov (vèítane Linuxu a samozøejmì IRIXu), OS/2 a na platformách Microsoft Windows.
	Logo OpenGL a názov OpenGLTM je registrovaná známka firmy Silicon Graphics Inc. Na niektorıch platformách je moné rozdelenie aplikácie na dve relatívne samostatné èasti - serverovú a klientskú. 
	Pri vykreslovaní se potom jednotlivé príkazy (èo sú väèšinou parametre funkcií OpenGL) prenášejú cez sieové rozhranie. 
	Kninica OpenGL (narozdiel od IRIS GL nebo Direct 3D) bola vytvorená tak, aby bola nezávislá na pouitom operaènom systéme, 
	grafickıch ovladaèoch a správcoch okien (Window Managers). Preto tie neobsahuje iadne funkcie pre prácu s oknami 
	(otváránie, zrušenie, zmenu ve¾kosti), pre vytváranie grafického uívate¾ského rozhrania (Graphical User Interface - GUI) ani pre spracovánie udalostí. 
	Tieto funkcie mono zaisti buï priamo volaním funkcie príslušného správca okna, alebo mono poui niektorú z nadstavieb, 
	napríklad u skôr na ROOTovi napísanú kninicu GLUT  (OpenGL Utility Toolkit). 
	Pre dosiahnutie èo nejväèšej nezávislosti na pouitej platforme uvádza kninica OpenGL vlastné primitívne dátové typy, 
	napríklad GLbyte, GLint alebo GLdouble. Tieto typy a ich pouitie bude podrobnejšie popísané ïalej.
	Programátorské rozhranie kninice OpenGL je vytvorené tak, aby kninica bola pouitelná v takmer ¾ubovo¾nom programovacom jazyku. 
	Primárne je k dispozícii hlavièkovı súbor pre jazyky C a C++. V tomto súbore sú deklarované nové dátové typy pouívané kninicou, 
	niektoré symbolické konštanty (napr. GL_POINTS) a sada cca 120 funkcií tvoriacich vlastné rozhranie. Existujú však aj podobné súbory s deklaráciami 
	pre ïalšie programovacie jazyky, napríklad Fortran, Object Pascal èi Javu; tieto súbory sú väèšinou automaticky vytvárené z Céèkovskıch hlavièkovıch souborù.
	Z programátorského h¾adiska sa OpenGL chová ako stavovı automat.
	To znamená, e behom zadávania príkazov pre vykreslovanie mono priebene meni vlastnosti vykreslovanıch primitiv 
	(farba, priehladnos) alebo celej scény (volba spôsobu vykreslovania, transformacie) a toto nastavenie zostane zachované dovtedy, 
	ne ho explicitnì zmeníme. Vıhoda tohoto prístupu spoèíva v tom, e funkcie pre vykreslovánie majú menší poèet parametrov a e jednım príkazomm mono globálnì zmeni 
	spôsob vykreslenia celej scény, napríklad volbu drótového zobrazenia modelu (wireframe model) alebo zobrazenie pomocou vyplnenıch polygonov (filled model). 
	Vykreslovanie scény sa vykonáva procedurálne - volaním funkcií OpenGL sa vykreslí vıslednı rastrovı obrázek. 
	Vısledkom volania tıchto funkcií je rastrovı obrázok uloenı v tzv. framebufferu, kde je kadému pixelu priradená farba, håbka, alfa zloka alebo aj ïalšie atribúty. 
	Z framebufferu mono získa len farebnú informáciu a tu je moné následne zobrazi na obrazovke.
	OpenGL nezaruèuje, e pri spustení identického programu pouívajúceho kninicu OpenGL na rôznych platformách alebo rôznych grafickıch akcelerátoroch dostaneme vdy rovnakı vısledok. 
	Pokia¾ by sme obidva vısledné rastrové obrázky porovnali pixel po pixle, mohli by sme zisti mierne rozdiely vo farbách. Môe to by spôsobené napríklad odlišnou presnosou reprezentácie 
	èísel na grafickej karte, odlišnımi algoritmami pre interpolaciu farby, normály a textúrovıch súradníc alebo inou bitovou håbkou Z-bufferu. 
	Celkové geometrické a farebné podanie scény by však malo bı zachované.
	Pomocou funkcií poskytovanıch kninicou OpenGL mono vykreslova obrazce a telesá zloené zo základnıch geometrickıch prvkov, 
	které nazıvame grafické primitiva. Mezi tieto primitiva patrí bod, úseèka, trojuholník, ètvoruholník, plošnı konvexnı polygon, bitmapa (jednofarebnı rastrovı obraz) a pixmapa (farebnı rastrovı obraz). 
	Existujú aj funkcie, které podporujú prúdové vykreslovanie niekterıch primitiv - mono napríklad vykresli polyèiaru (line loop), pruh trojuhelníkov (triangle strip), pruh štvoruhelníkov (quad strip) 
	alebo trs trojuhelníkov (triangle fan). 

	Na vrcholy tvoriace jednotliv0 grafick0 primitiva mono aplikova rôzne transformacie (otoèenie, zmena meøítka, posun, perspektivna projekcia), pomocou ktorıch mono pomerne jednoducho vytvori animáciu. 
	Vykreslované primitiva môu by osvetlené alebo aj pokryté textúrou. Ïalej je moné celú vykreslovanú scénu "skry" v hmle.
	Z h¾adiska dátovej reprezentacie vykreslovanej scény poskytujú funkcie OpenGL, len základné rozhranie pre prístup ku grafickım akcelerátorom. Existují však rozširujúce kninice, 
	které túto funkcionalitu ïalej zvyšujú. Jednou zo základnıch kniníc pouívanıch spoleène s OpenGL je knihovna GLU (OpenGL Utilities), ktorá umoòuje vyuívat tesselátory (rozloenie nekonvexních polygónov 
	na trojuholníky - triangulácia), evaluátory (vıpoèet súradníc bodov leiacich na parametrickıch plochách) a vykreslova kvadriky (gule, valce, kuele a disky). 
	Další nadstavbovou knihovnou je Open Inventor, pomocí kterého lze konstruovat celé scény 
	sloené z hierarchicky navázanıch objektù. V porovnání s Direct 3D Retained Mode, kde se také pracuje s hierarchií scény, 
	je však Open Inventor knihovna mnohem mocnìjší a pøitom má pomìrnì jednoduché rozhraní.
	V dalším dílu tohoto seriálu si popíšeme syntaxi funkcí deklarovanıch v OpenGL a uvedeme si pøíklad na vykreslení 
	jednoduchého obrazce.
</DL>
<H2>Úvod</H2>
<P>Nauèíme sa pouíva kninicu OpenGL. Kninice OpenGL slúia na prácu s 2D aj 
3D grafikou. V kninici sú implementované algoritmy pre transformáciu a 
zobrazovanie geometrickıch útvarov. Je vıhodné pouíva grafickú kartu s 
akcelerovanou 3D grafikou, pretoe kninice prenesú znaènú èas vıpoètov na 
hardvér grafickej karty, èím sa vırazne urıchlia vıpoèty a vykres¾ovanie. Pri 
programovaní (aspoò v našom prípade) sa však nemusíme trápi s tım, akú grafickú 
kartu máme v poèítaèi nainštalovanú. Rozdiely v hardvéry zakrıvajú kninice a 
operaènı systém.</P>
<P>Podrobné informácie:</P>
<UL>
  <LI>opengl.hlp 
  <LI><A href="http://www.opengl.org/">http://www.opengl.org/</A> 
  <LI><A 
  href="http://www.root.cz/serialy/graficka-knihovna-opengl/">http://www.root.cz/serialy/graficka-knihovna-opengl/</A> 
  </LI></UL>
<H2>Inicializovanie</H2>
<P>Pre inicializovanie pouijeme nasledujúcu šablónu:</P>
<TABLE bgcolor="#ffff99" border="1" bordercolor="Blue" >
  <TBODY>
  <TR>
    <TD width="100%"><SPAN class=reserverword>uses</SPAN><SPAN class=program> 
      </SPAN>...,<SPAN class=program> <FONT color=#0044ff><BR>&nbsp; 
      OpenGL</FONT>;<BR><BR></SPAN><SPAN class=reserverword>var</SPAN><SPAN 
      class=program><BR>&nbsp; RC: HGLRC=0;<BR>&nbsp; DC: 
      HDC=0;<BR><BR></SPAN><SPAN class=reserverword>procedure</SPAN><SPAN 
      class=program> TForm1.FormCreate(Sender: TObject);<BR></SPAN><SPAN 
      class=reserverword>var</SPAN><SPAN class=program><BR>&nbsp; PFD: 
      TPixelFormatDescriptor;<BR>&nbsp; PF: Integer;<BR></SPAN><SPAN 
      class=reserverword>begin</SPAN><SPAN class=program><BR>&nbsp; // 
      </SPAN>Nastavenie Device Contextu:<SPAN class=program><BR>&nbsp; 
      DC:=GetDC(Handle);<BR>&nbsp; FillChar(PFD, SizeOf(TPixelFormatDescriptor), 
      0);<BR>&nbsp; PFD.nSize:=SizeOf(TPixelFormatDescriptor);<BR>&nbsp; 
      PFD.nVersion:=1;<BR>&nbsp; PFD.dwFlags:=PFD_DRAW_TO_WINDOW </SPAN><SPAN 
      class=reserverword>or</SPAN><SPAN class=program> PFD_SUPPORT_OPENGL 
      </SPAN><SPAN class=reserverword>or</SPAN><SPAN class=program> 
      PFD_DOUBLEBUFFER;<BR>&nbsp; PFD.iPixelType:=PFD_TYPE_RGBA;<BR>&nbsp; 
      PFD.cColorBits:=24;<BR>&nbsp; PFD.cDepthBits:=32;<BR>&nbsp; 
      PFD.iLayerType:=PFD_MAIN_PLANE;<BR>&nbsp; PF:=ChoosePixelFormat(DC, 
      @PFD);<BR>&nbsp; </SPAN><SPAN class=reserverword>if</SPAN><SPAN 
      class=program> PF=0 </SPAN><SPAN class=reserverword>then</SPAN><SPAN 
      class=program> Exit;<BR>&nbsp; SetPixelFormat(DC, PF, @PFD);<BR>&nbsp; // 
      </SPAN>Vytvorenie Rendering Contextu:<SPAN class=program><BR>&nbsp; 
      RC:=wglCreateContext(DC);<BR>&nbsp; wglMakeCurrent(DC, RC);<BR>&nbsp; 
      glClearColor(0, 0, 0, 0);<BR>&nbsp; glClearDepth(1);<BR>&nbsp; 
      glEnable(GL_DEPTH_TEST);<BR>&nbsp; // </SPAN>Nastavenie zobrazovania:<SPAN 
      class=program><BR>&nbsp; glViewport(0, 0, ClientWidth, 
      ClientHeight);<BR>&nbsp; glMatrixMode(GL_PROJECTION);<BR>&nbsp; 
      glLoadIdentity;<BR>&nbsp; gluPerspective(60, ClientWidth/ClientHeight, 1, 
      1000);<BR>&nbsp; glMatrixMode(GL_MODELVIEW);<BR>&nbsp; 
      glLoadIdentity;<BR></SPAN><SPAN class=reserverword>end</SPAN><SPAN 
      class=program>;<BR><BR></SPAN><SPAN 
      class=reserverword>procedure</SPAN><SPAN class=program> 
      TForm1.FormDestroy(Sender: TObject);<BR></SPAN><SPAN 
      class=reserverword>begin</SPAN><SPAN class=program><BR>&nbsp; 
      wglMakeCurrent(0, 0);<BR>&nbsp; wglDeleteContext(RC);<BR>&nbsp; 
      RC:=0;<BR>&nbsp; ReleaseDC(Handle, DC);<BR>&nbsp; DC:=0;<BR></SPAN><SPAN 
      class=reserverword>end;</SPAN></TD></TR></TBODY></TABLE>
<P><U>NDÚ:</U> Vytvorte kninicu, v ktorej skryjete predchádzajúcu inicializáciu 
a finalizáciu.</P>
<P>Vidíme, e kninica OpenGL je neobjektová. Funkcie kninice OpenGL zaèínajú 
prefixom<FONT color=#0044ff><SPAN class=program> gl</SPAN></FONT>... a pomocné 
funkcie prefixom<FONT color=#0044ff><SPAN class=program> glu</SPAN></FONT>... Do 
takéhoto programu budeme postupne dopåòa kód.</P>




</body>
</html>

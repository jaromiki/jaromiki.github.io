<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<META http-equiv=Content-Language content=sk>
<META http-equiv=Content-Type content="text/html; charset=windows-1250">
<html>
<head>
	<title>Základné grafické objekty</title>
</head>

<body>
<h2>Grafická primitiva knihovny OpenGL</h2>
Pomocí pøíkazù OpenGL lze vykreslovat pouze základní geometrické prvky, které nazıváme primitiva. 
Z tìchto primitiv se potom skládají sloitìjší tìlesa a celé scény. Existuje celkem deset typù primitiv, 
mezi nì patøí: izolovanı bod, úseèka zadaná dvìma koncovımi body, øetìzec úseèek (polyèára), 
smyèka vytvoøená z úseèek (uzavøená polyèára), trojúhelník, trs trojúhelníkù, pás trojúhelníkù, 
rovinnı ètyøúhelník, pás rovinnıch ètyøúhelníkù a rovinnı konvexní polygon.
Pøi vykreslování kadého primitiva musíme nejdøíve zadat pøíkaz 
<dl><dt>glBegin(typ primitiva), 
    <dd>kterım knihovnì OpenGL sdìlujeme, e se zaèínají zadávat jednotlivé vrcholy primitiva, popø. i vlastnosti tìchto vrcholù. 
	Vykreslování se ukonèí párovım pøíkazem 
	<dt>glEnd(), 
	<dd>kterı nemá ádné parametry. 
</dl>
Mezi pøíkazy glBegin() a glEnd() lze zadat libovolnı poèet vrcholù primitiva pøíkazem glVertex*(). 
Vrcholy jsou zadané svımi souøadnicemi, a to buï dvìma (x, y), tøemi (x, y, z), nebo ètyømi (x, y, z, w).
Pro 2D scény zadáváme pouze souøadnice (x, y) a vrcholy se zadávají pøíkazem glVertex2*(), 
kde se za znak * dosadí pøíznak udávající datovı typ (i-GLint, f-GLfloat apod.) parametrù. 
Souøadnice (z) se automaticky nastaví na nulu a souøadnice (w) na jednièku.
Pro 3D scény zadáváme buï souøadnice (x, y, z), nebo celou ètveøici (x, y, z, w). 
Pro trojici souøadnic se pro zadání vrcholù pouívá pøíkaz glVertex3*(), pro ètveøici souøadnic potom glVertex4*(). 
Pokud je zadána pouze trojice souøadnic, dosadí se za souøadnici w automaticky jednièka. 
Souøadnice w je pouita pøi perspektivní projekci a udává váhu vrcholu (weight). 
Pro bìné pouití ji vdy nastavujeme na jednièku, protoe se touto souøadnicí dìlí zbylé tøi souøadnice, 
tedy x'=x/w, y'=y/w a z'=z/w.

<h2>Geometrické vlastnosti a zadání primitiv OpenGL</h2>
<dl><dt>Jednotlivé body
	<dd>Nejjednoduššími primitivy jsou v OpenGL jednotlivé (izolované) body. 
	Zadávání bodù zaèíná pøíkazem glBegin(GL_POINTS). Kadı bod je zadán jedním pøíkazem glVertex*(). 
	Bod je zobrazen buï jako jeden pixel (pøi velikosti rovné jednièce), nebo jako ètverec èi kruh 
	pøi velikosti vìtší ne jedna (vlastnostem jednotlivıch primitiv se budeme vìnovat v dalším dílu tohoto seriálu).
	<dl><dt>Vlastnosti:
		<dd><ul><li>FARBA glcolor3f(r,g,b:float); glcolor4f(r,g,b,a);
				<li>VE¼KOS glPointSize(velkos:float)
				<li>ANTIALIASING glEnable(GL_POINT_SMOOTH) - glDisable(GL_POINT_SMOOTH)
			</ul>
		</dl>	
	<dt>Úseèka
	<dd>Úseèka je v OpenGL popsána svımi dvìma koncovımi body (vrcholy). Zadávání úseèek zaèíná pøíkazem glBegin(GL_LINES), 
	po nìm mùe následovat libovolné mnoství pøíkazù glVertex*(). Vdy dva po sobì jdoucí vrcholy reprezentují jednu úseèku. 
	Pokud je zadán lichı poèet vrcholù, je pøebıvající vrchol ignorován. Samozøejmì musí bıt zadány alespoò dva vrcholy, 
	jinak se ádná úseèka nevykreslí.
	<dl><dt>Vlastnosti èiar:
		<dd><ul><li>FARBA glcolor3f(r,g,b:float); glcolor4f(r,g,b,a); ... pri rôznych farbách far. prechod
				<li>HRÚBKA glLineWidth(hrúbka:float)
				<li>ANTIALIASING glEnable(GL_LINE_SMOOTH) - glDisable(GL_LINE_SMOOTH) ... upraví konce úseèiek
				<li>MASKA  GlLineStipple(násobok, maska)
					<br>GLEnable(GL_LINE_STIPPLE) - glDisable(GL_LINE_STIPPLE)
			</ul>
	</dl>
	<dt>Øetìzec úseèek
	<dd>Toto primitivum reprezentující lomenou úseèku (polyèáru, polyline) je rozšíøením jednotlivıch úseèek. 
	Zadávání zaèíná pøíkazem gbBegin(GL_LINE_STRIP), po nìm mùe následovat libovolné mnoství pøíkazù glVertex*(). 
	První dva vrcholy definují poèáteèní èást (segment) polyèáry a kadı další vrchol pøidá jeden segment. 
	Musí bıt zadány alespoò dva vrcholy, jinak se polyèára nevykreslí. Pro n vrcholù se tedy vykreslí n-1 úseèkovıch segmentù.
	Vıhodou polyèar je, e se pøi kreslení rùznıch kontinuálních hranic sloenıch z lomenıch úseèek ušetøí témeø polovina 
	volání pøíkazù glVertex*(), co mùe v nìkterıch pøípadech znamenat vırazné urychlení vykreslování.

	<dt>Smyèka vytvoøená z úseèek
	<dd>Jde o mírnou modifikaci pøedchozího primitiva. Opìt se jedná o lomenou èáru (polyèáru), 
	ale navíc je poslední vrchol spojen s vrcholem prvním. Pro n vrcholù se tedy vykreslí n úseèkovıch segmentù. 
	Oblast zadaná vrcholy se však nevyplòuje, je vykreslena pouze hranice.
	Vıhodou smyèky úseèek je další ušetøení jednoho volání funkce glVertex*() a v mnoha pøípadech i zjednodušení 
	algoritmu vykreslování (kdy se napøíklad pøíkazy pro definici jednotlivıch vrcholù zadávají v programové smyèce).

	<dt>Trojúhelník
	<dd>Toto primitivum pøedstavuje nejjednodušší plošku, kterou lze vykreslit. 
	Trojúhelník je zadanı tøemi vrcholy, které by nemìly leet v jedné pøímce. Zadávání zaèíná pøíkazem glBegin(GL_TRIANGLES), 
	po kterém následuje libovolné mnoství pøíkazù glVertex*(). Vdy tøi po sobì následující pøíkazy glVertex*() 
	definují jeden trojúhelník. Pokud není zadanı poèet vrcholù dìlitelnı tøemi, zbıvající jeden nebo dva vrcholy jsou ignorovány. 
	Aby byl vykreslen alespoò jeden trojúhelník, musí bıt zadány minimálnì tøi vrcholy.
	Pouití trojúhelníkù (narozdíl od primitiv popsanıch dále) je bezproblémové, protoe trojúhelník je vdy konvexní 
	a jeho vrcholy vdy leí v jedné rovinì (definují rovinu). Proto mnoho souborovıch formátù popisuje tìlesa rozloená 
	na trojúhelníkové plošky. Na druhou stranu je pro kadı trojúhelník zapotøebí zadat tøi vrcholy, co pøedstavuje 
	znaènı datovı tok mezi procesorem a grafickou kartou. Proto OpenGL podporuje další primitiva, která tento problém 
	èásteènì eliminují.

	<dt>Trs trojúhelníkù
	<dd>Toto primitivum je urèeno pro sníení datového toku pøi zadávání vrcholù trojúhelníkù. 
	Pouívá se napøíklad pøi vykreslování vrchlíkù koule. Zadávání zaèíná pøíkazem glBegin(GL_TRIANGLE_FAN), 
	po nìm následují jednotlivé vrcholy. První tøi vrcholy definují první trojúhelník. Kadı další vrchol definuje 
	další trojúhelník, protoe ostatní dva vrcholy trojúhelníku jsou shodné vdy s prvním zadanım vrcholem 
	a s pøedposledním vrcholem. Tvoøí se tak jakısi deštník, v nìm mají všechny trojúhelníky spoleènı jeden vrchol. 
	Na obrázku je vidìt, e všechny trojúhelníky mají spoleènı vrchol V0 a další vrcholy jsou zadávány proti smìru 
	hodinovıch ruèièek. Pouitím tohoto primitiva lze ušetøit a dvì tøetiny volání funkce glVertex*().
	<dl><dt>Vlastnosti plôch:
		<dd><ul><li>FARBA glcolor3f(r,g,b:float); glcolor4f(r,g,b,a); ... pri rôznych farbách far. prechod
				<li>ANTIALIASING glEnable(GL_POLYGON_SMOOTH) - glDisable(GL_POLYGON_SMOOTH) ... upraví konce úseèiek
				<li>MASKA VİPLNE  GlPolygonStipple( maska:@pole:array[1..32,1..4] of byte) ... 32x32 bit
					<br>GLEnable(GL_POLYGON_STIPPLE) - glDisable(GL_POLYGON_STIPPLE)
			</ul>
	</dl>

	<dt>Pás trojúhelníkù
	<dd>Toto èasto pouívané primitivum pøedstavuje souvislı pás sloenı z trojúhelníkù. 
	Pouít ho lze napøíklad pøi vykreslování stìn sloitìjších tìles. Toto primitivum je univerzálnìjší ne trs trojúhelníkù. 
	Zadávání zaèíná pøíkazem glBegin(GL_TRIANGLE_STRIP), po nìm následují jednotlivé vrcholy. 
	První tøi vrcholy definují první trojúhelník. Kadı další vrchol definuje další trojúhelník, 
	jen má s pøedchozím trojúhelníkem spoleènou hranu. Na obrázku si všimnìte, jak jsou vrcholy u pásu zadávány na pøeskáèku. 
	Pouitím tohoto primitiva lze ušetøit a dvì tøetiny volání funkce glVertex*().

	<dt>Rovinnı ètyøúhelník
	<dd>Toto primitivum umoòuje zadávat rovinné konvexní ètyøúhelníky. 
	Zadávání zaèíná pøíkazem glBegin(GL_QUADS), po nìm následují jednotlivé vrcholy. Pouití je podobné jako u trojúhelníkù, 
	ale musíme zaruèit, e vrcholy ètyøúhelníku budou leet v jedné rovinì a ètyøúhelník bude konvexní 
	(to je u trojúhelníku zaruèeno vdy). Pokud tyto podmínky nebudou splnìny, nemusí bıt (a pravdìpodobnì ani nebude) 
	vykreslení korektní, protoe interpolátory v grafickém akcelerátoru vìtšinou nedovedou detekovat hranici, 
	kde se má vykreslování pøerušit.

	<dt>Pás rovinnıch ètyøúhelníkù
	<dd>Toto primitivum je podobné pásu trojúhelníkù. 
	Zadávání zaèíná pøíkazem glBegin(GL_QUAD_STRIP). Vrcholy jsou zadávány "na pøeskáèku" tak, jak je ukázáno na obrázku. 
	Všechny ètyøi vrcholy kadého ètyøúhelníku musí leet v jedné rovinì a musí definovat konvexní ètyøúhelník, 
	jinak není zaruèena korektnost vykreslení.

	<dt>Rovinnı konvexní polygon
	<dd>Jedná se o nejsloitìjší primitivum, pomocí nìho lze kreslit polygony zadané vìtším poètem vrcholù. 
	Musíme však zaruèit, e všechny vrcholy budou leet v jedné rovinì a vıslednı polygon bude konvexní. 
	V mnoha pøípadech je tato podmínka tìko splnitelná, a proto se polygon rozdìluje na jednotlivé trojúhelníky (tesselace). 
	Zadávání polygonu zaèíná pøíkazem glBegin(GL_POLYGON), po nìm následují souøadnice jednotlivıch vrcholù.
</dl>

Zpùsob pouití vıše popsanıch grafickıch primitiv je pøedveden na ukázkovém pøíkladu, pro kterı je k dispozici zdrojovı kód 
i zdrojovı kód s obarvenou syntaxí. Ukázka pøíkladu je na dalším obrázku. 
<br>Popis zobrazenıch primitiv:
Tøetí øádek: primitiva GL_POINTS, GL_LINES, GL_LINE_STRIP, GL_LINE_LOOP
Druhı øádek: primitiva GL_TRIANGLES, GL_TRIANGLE_STRIP, GL_TRIANGLE_FAN
První øádek: primitiva GL_QUADS, GL_QUADS_STRIP, GL_POLYGON

</body>
</html>

  <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
    <meta name="Content-language" content="sk"> 
    <LINK href="../../css/style.css" type="text/css" rel=stylesheet>
</head>

<body>
<h3>Osvetlovanie telies</h3>
Zatia¾ sme scému vykreslovali bez vplyvu svetla, èo môe pri statickıch obrázkoch vies ku splošteniu obrazu (straty 3-rozmernosti). Teraz si ukáeme
jednoduchı postup ako osvetlova scénu. Najprv však bude nutná trocha teórie.
<dl>
<dt>Druhy svetla
<dd>V OpenGL sa pre vıpoèet farby objektov v scéne pouíva takzvanı Phongùv osvet¾ovacie model. Tento model sa snaí èo najviac zjednoduši fyzikálne 
	a optické vlastnosti reálneho svetla tak, aby vıpoèty osvetlenia boli rıchle a aby sa vıslednı obrázok dostatoène blíil realite. 
	V Phongovo osvet¾ovacím modelu sa svetlo, ktoré na urèitı objekt dopadá a následne sa od neho odráa, rozkladá na tri svetelné zloky.
	<ul><li>ambientné svetlo
			<br>Táto zloka vyjadruje okolité svetlo, ktoré nie je priamo vyarované zo iadnych svetelnıch zdrojov. 
			Toto svetlo vzniká tak, e sa svetlo z nejakého zdroja nieko¾kokrát odrazí (napríklad od stien v miestnosti), a nie je teda jasne vidite¾nı smer, 
			odkia¾ prichádza. V Phongovo osvet¾ovacím modelu je toto svetlo povaované za všesmerové, tj osvet¾uje objekt zo všetkıch smerov nezávisle 
			na polohe a orientáciu zdrojov svetla.
		<li>difúzna zloka
			<br>Táto svetelná zloka vyjadruje svetlo, ktoré na povrch objektu dopadá z konkrétneho svetelného zdroja a od povrchu objektu sa odráa do všetkıch 
			smerov s rovnakou intenzitou. Pomocou difúznej zloky mono teda vytvára matné materiály. V Phongovo osvet¾ovacím modeli sú vıpoèty difúznej 
			zloky svetla upravené tak, e vısledná farba difúznej zloky je závislá iba na vzájomnej orientácii svetelného zdroja a objektu. 
			Poloha pozorovate¾a (kamery) nemá vplyv na farbu ani intenzitu difúzna zloky, èoho sa dá vyui napríklad pri urıch¾ovaní vykres¾ovacích algoritmov.	
		<li>odlesky(specular)
			<br>Poslednı svetelnú zlokou pouitou v Phongovo osvet¾ovacím modeli sú odlesky (specular). Odlesky vznikajú vo chvíli, keï na povrch telesa dopadá 
			lúè zo zdroja svetla a tento lúè sa od povrchu odráa pod¾a známeho zákona odrazu a lomu. V skutoènosti sa lúè nikdy neodrazí ideálne, vdy nastáva urèité rozptılenie. 
			Phongùv osvet¾ovacie model tento fenomén modeluje tak, e sa stanoví koeficient zmeny intenzity odrazeného svetla pod¾a uhla odklonu poèítaného odrazeného 
			lúèa od lúèa ideálne odrazeného. Vektory tıchto dvoch lúèov sa vynásobí a vısledok sa umocní zadanım koeficientom.
	</ul>
	Pri vytváraní scény si premyslíme, kde budú umiestnené zdroje svetla a nastavíme ich vlastnosti. Vlastnosti jednotlivıch zloiek zadávame podobne ako sme zadávali
	pri zadávaní farby materiálu. Farbu neuèujeme príkazom glColor() ale musíme nastavi vlastnosti svetla a ako sa materiál chová voèi svetlu, 
	Pre kadé svetlo (zdroj svetla)urèíme jeho tri zloky (ambientnú, difúznu a odleskovú) a materiálu nastavíme ako odráa ambientné svetlo, difúzne a tie akej farby odráa odlesky. 
<dt>Zapnutie svetla
<dd>Na prácu so svetlom pouijeme príkaz:<b><font color="Blue"> glEnable(GL_LIGHTING)</font></b> ... tım program bude vyhodnocova svetelné podmienky a môme zadáva
	svetelné zdroje. Maximálne môme poui 8 zdrojov svetla s názvami:GL_LIGHT0, GL_LIGHT1, ...,GL_LIGHT7.
	<br>Kadé svetlo mono samostatne zapnú/vypnú príkazmi: <b><font color="Blue">glEnable(GL_LIGHTi)</font></b>/<b><font color="Blue">glDisable(GL_LIGHTi)</font></b>.
<dt>Vlastnosti svetla
<dd>Vlastnos svetelného zdroja mono nastavi/zmeni príkazom: 
	<br>glLightfv(light, pname, pole) ... pre kadı zdroj nastavíme vlastnosti jednotlivıch zloiek svetla
	<br>Parametre:
	<br>light ... nastavíme názov zdroja svetla, ktorému ideme nastavova vlastnosti (GL_LIGHT0 ... GL_LIGHT0)
	<br>pname ... zadáme vlastnos, ktorú chceme nastavi
	<ul><li>GL_AMBIENT ... štandartná hodnota je [0,0,0,1]
		<li>GL_DIFFUSE ... štandartná hodnota pre svetlo 0 je [1,1,1,1] pre iné svetlá je [0,0,0,1]
		<li>GL_SPECULAR ... štandartná hodnota pre svetlo 0 je [1,1,1,1] pre iné svetlá je [0,0,0,1]
		<li>GL_POSITION ... štandartná hodnota pre svetlo 0 je [0,0,1,0] 
		<li>GL_SPOT_DIRECTION ... urèuje smer svetla, štandartná hodnota je [0,0,-1]
			<br> &nbsp; &nbsp; má vıznam len ak uhol svetla (GL_SPOT_CUTOFF) je rôzny od 180
		<li>GL_SPOT_EXPONENT ... urèuje zaostrenos svetla, povolené hodnoty &lt;0;128&gt;, 0 je rovnomerné svetlo 128 je najsilnejšie v smere svetla
		<li>GL_SPOT_CUTOFF ... urèuje uhol vyarovaného svetla, prípusné hodnoty sú &lt;0;90&gt; a jedna špeciálna hodnota 180. Defaut hodnota je 180.
	</ul>	
	Príkaz je: <b><font color="Blue">glMaterialfv(face,pname, pole);</font></b> 
    <br>Parametre:
	<ol><li>face - môme zada tieto konštanty<ul><li>GL_FRONT ... urèujeme farbu prednej strany
												  <li>GL_BACK ... urèujeme farbu zadnej strany	
												  <li>GL_FRONT_AND_BACK ... ur4ujeme naraz aj prednú aj zadnú stranu
											  </ul>
	    <li>pname - tu nastavujeme ktorú svetelnú vlastnos materiálu nastavujeme.
			<br>Môme zada nasledovné konštanty:<ul><li>GL_AMBIENT ... volíme, keï chceme nastavi ako odráa rozptılené svetlo
													 <li>GL_DIFFUSE ... volíme,  keï chceme nastavi ako odráa priame svetlo
													 <li>GL_AMBIENT_AND_DIFFUSE ... volíme,  keï chceme nastavi ako odráa rozptılené i priame svetlo
													 <li>GL_SPECULAR ... volíme,  keï chceme nastavi ako odráa odlesky
													 <li>GL_EMISSION ... volíme,  keï chceme nastavi ako vyaruje svetlo
													 <li>GL_SHININESS ... volíme,  keï chceme nastavi akı ve¾kı odraz bude na materiály 
													 	<br>(oproti ostanım parametrom, kde tretí parameter je pole, pri tomto tretí parameter volíme èíslo &lt;0;128&gt;
												 </ul>
		<li>pole - 										   

            Nastaveniefarby platí pokia¾ ho nezmeníme. Štandartne je											  	  
</body>
</html>

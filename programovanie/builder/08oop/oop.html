<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
 	 <meta name="Content-language" content="sk">	
	  <LINK href="../css/style.css" type="text/css" rel=stylesheet>
	  <script>
	  var x=0; var y=0; var r=0; var u=0;
	  function inkart()
	  {  x= eval(in1.value); y=eval(in2.value);
	     if (!x && !y) r=u=0;
		 else
		 {   r = Math.sqrt(x*x +y*y);
		     u = 180/Math.PI*Math.atan2(y,x);
			 if (u<0) u+=360; 
		 }
		 x1.value=x.toFixed(4); y1.value=y.toFixed(4);
		 r1.value=r.toFixed(4); u1.value=u.toFixed(4);
	  }	 
	  function inpol()
	  {  r= eval(in1.value); u=eval(in2.value);
	     if (!r) r=u=0;
		 else
		 {   x = r*Math.cos(u/180*Math.PI);
		     y = r*Math.sin(u/180*Math.PI);
		 }
		 x1.value=x.toFixed(4); y1.value=y.toFixed(4);
		 r1.value=r.toFixed(4); u1.value=u.toFixed(4);
	  }	 
	  function outkart()
	  {  out1.value = x.toFixed(4);
	     out2.value = y.toFixed(4);
	  }	 
	  function outpol()
	  {  out1.value = r.toFixed(4);
	     out2.value = u.toFixed(4);
	  }	 
 	</script>	
	 <title>Úvod</title>
</head>

<body>
<h3 style="width:450"> OOP ... objektovo-orientované programovanie</h3>
<dl><dt>Pôvod tried v jazyku C
	<dd>Triedy v jazyku C++ sa vyvinuli zo štruktúr v jazyku C.
		<table width="60%" bgcolor=#cccccc border="2" bordercolor=#cccccc bordercolordark="#999999" bordercolorlight=ffffff>
		<tr><th bgcolor=#99aaff align="left"> Unit1.cpp</th></tr>
		<tr><td>
<pre>
typedef struct {
char[20] meno;
char[20] priezvisko;
int rocnik;
char trieda;
} Student;
. . .
Student x;
strcpy(x.meno,"Milan");
strcpy(x.priezvisko,"Maslák");
x.rocnik = 1;
x.trieda = 'C';
. . .
Student y = ("Dana", "Petrovova", 2, 'B');
</pre>
		</td></tr>
		</table>
		Vidíme, e štruktúry obsahujú len dáta a iadne funkcie na spracovávanie tıchto dát. Je vıhodné ma funkcie spolu s dátami, kde mono zabezpeèi
		len korektné narábanie s dátami.
	<dt>class - trieda
	<dd>Na triedu môeme nahliada ako na šablónu, pod¾a ktorej budeme vytvára objekty urèitého typu. Skôr, ako budeme môc poui triedu na zakladanie objektov, 
		musíme v zdrojovom kóde jazyka C++ špecifikova deklaráciu triedy. Triedu deklarujeme pomocou k¾úèového slova <b>class</b>, ale podoba so štruktúrami ostala.
		<table width="60%" bgcolor="#cccccc" border="2" bordercolor="#cccccc" bordercolordark="#999999" bordercolorlight="ffffff">
		<tr><th bgcolor=#99aaff align="left"> Unit1.cpp</th></tr>
		<tr><td>
<pre>
class Student {
string meno;
string priezvisko;
int rocnik;
char trieda;
public:
void Student(string m, string p, int r, char t); &nbsp; &nbsp; //konštruktor
void zapis(int r);
. . .
};
</pre>
		</td></tr>
		</table>
		Deklarácia triedy sa v jazyku C++ skladá z hlavièky triedy a tela triedy. V hlavièke triedy je vdy uvedené k¾úèové slovo <b>class</b>, 
		ktoré dáva prekladaèu jazyka C++ na známos, e sa chystáme deklarova novú triedu. Kadá trieda má svoj názov, 
		ktorı sa objavuje v jej hlavièke okamite za k¾úèovım slovom class. 
		Telo triedy je ohranièené programovım blokom, ktorého dåka je vizuálne urèená zloenımi zátvorkami. V tele triedy sa vyskytujú <b>èleny triedy</b>. 
		Telo triedy môe by delené do troch sekcii:
		<ul><li>private: - prístupné jen v metodách danej triedy a v priate¾skıch funkciách (súkromné)
			<li>public: - prístupné v celom programe (verejné)
			<li>protected: - prístupné v metódach danej triedy a odvodenıch triedach a v priate¾skıch funkciách (chránené)
		</ul>
		Ak sekcia nie je uvedená imlicitne ide o private (tú teda nemusíme uvádza - ak je prvá)
		K èlenom triedy patria predovšetkım dátové atribúty triedy a metódy triedy. Syntakticky sú dátové atribúty reprezentované premennımi, ktorıch
		oblasou platnosti je telo triedy. Všetky dátové atribúty sa obyèajne nachádzajú v súkromnej sekcii triedy. To znamená, e dátové atribúty sú súkromné, 
		èo je v poriadku, pretoe rešpektujeme jeden zo základnıch princípov objektovo orientovaného programovania, ktorım je ukrıvanie dát. 
		Objekt (inštancia triedy) teda ukrıva dáta, ktoré obsahuje, èím zabezpeèuje ochranu ich integrity. Na druhej strane, metódy sú obyèajne 
		verejné - zvonku vidite¾né.
		(V prípade potreby mono vytvori aj súkromnú metódu - zvonka nevidite¾nú, alebo dátovú štruktúru zvonka dostupnú).
		<br><b>Deklarácia triedy je v jazyku C++ príkazom, a preto je zakonèená bodkoèiarkou.</b>
		<br>Metódy sa v triedach len deklarujú (väèšinou, neskôr uvidíme, e môme deklarova aj vnútri)– uvádzajú sa len ich hlavièky (deklarácie), 
		samotné telá fukcie sú uvedené mimo deklarácie tohoto nového typu nasledovne:
		<table width="60%" bgcolor=#cccccc border="2" bordercolor="#cccccc" bordercolordark="#999999" bordercolorlight="ffffff">
		<tr><th bgcolor=#99aaff align="left"> Unit1.cpp</th></tr>
		<tr><td>
<pre>void Student::zapis(int r) 
{   rocnik = r;
}
// konštruktor
Student::Student(string m, string p, int r, char t); 
{   meno = m; priezvisko = p;
    rocnik = r; trieda = t;
}</pre>
		</td></tr>
		</table>
		Vo verejnej sekcii triedy sa nachádzajú dve metódy. Prvou z nich je konštruktor, ktorı je verejne prístupnı a parametrickı. 
	<dt>konštruktor
	<dd>Konštruktor je špeciálna metóda triedy, 
		ktorá slúi na inicializáciu inštancie triedy po jej alokácii. Povedané inak, úlohou konštruktora je uvies alokovanú inštanciu triedy do vıchodiskového, 
		a teda okamite pouite¾ného stavu. Ako „okamite pouite¾nı“ oznaèujeme stav, kedy môe inštancia triedy zaèa poskytova sluby svojim klientom.
		Z technického h¾adiska je konštruktor èlenskou funkciou triedy, ktorá má rovnakı identifikátor ako trieda, v ktorej tele je konštruktor umiestnenı. 
		Konštruktor môe by buï implicitnı, alebo explicitnı. Náš konštruktor je explicitnı, pretoe sme jeho definíciu sami zapísali do tela triedy. 
		Ak by sme však do tela triedy nezaviedli definíciu iadneho konštruktora, prekladaè jazyka C++ by automaticky vygeneroval svoj vlastnı, tzv. implicitnı konštruktor. 
		(Implicitnı konštruktor je bezparametrickı a má prázdne telo.) Naopak, ak prekladaè zistí, e v tele triedy sa u objavuje explicitnı konštruktor, iaden
		implicitnı konštruktor nebude automaticky vytvára. Bez oh¾adu na to, èi je konštruktor implicitnı, alebo explicitnı, nikdy nepracuje s návratovou hodnotou 
		(túto skutoènos vyjadrujeme jednoducho vynechaním typu návratovej hodnoty).
		Explicitnı konštruktor je v našom prípade parametrickı. V tele konštruktora sú uvedené priraïovacie príkazy, ktoré vykonávajú inicializáciu dátovıch atribútov inštancie triedy.
		<br>V definícii konštruktora mono pouíva aj inicializované parametre (pozri v èasti programujeme->podprogramy). 
		<br><br>
		Pri zániku zaloenej inštancie triedy je vhodné spätne uvo¾ni vyuitú operaènú pamä. Na to slúi špeciálna èlenská funkcia triedy nazıvaná deštruktor. 
		K jej aktivácii dochádza tesne pred tım, ako nastane dealokácia inštancie triedy. Zjednodušene povedané, deštruktor je opakom konštruktora.
		V tele triedy ho spoznáme pod¾a typickej vlnovky (~), ktorá sa nachádza v jeho hlavièke:
		<table width="60%" bgcolor=cccccc border="2" bordercolor="#cccccc" bordercolordark="#999999" bordercolorlight="ffffff">
		<tr><th bgcolor=#99aaff align="left"> Unit1.cpp</th></tr>
		<tr><td>
<pre>// Definícia deštruktora v èasti public.
~Student(); 
</pre>
		</td></tr>
		</table>
		Deštruktor nevracia návratovú hodnotu a nedefinuje iadne formálne parametre (je vdy bezparametrickı). Nesmie by ani preaenı, to znamená, e v jednej triede 
		sa vyskytuje najviac jeden deštruktor.
		<br>Pozn.
		<br>Deštruktor pouívame ak sme objekt nového typu typu class vytvárali dynamicky.
	<dt>inštaciácia - vytvorenie
	<dd>V jazyku C++ existujú 3 varianty inštanciácie triedy:
		<ul><li>Automatická inštanciácia triedy.
			<li>Statická inštanciácia triedy.
			<li>Dynamická inštanciácia triedy.
		</ul>
		Najviac sa budeme venova tretiemu spôsobu vytvárania triedy v pamäti, ale v krátkosti popíšem aj predošlé dva
		<dl>
		<dt>Automatická inštanciácia triedy
		<dd>Napr. 
			<code>
			<br>Student x; //vytvorí studenta a dáta nie sú inicializované
			<br>Student x("Ján", "Rychlı", 1, 'D'); //vytvorí studenta a nastaví explicitnım konštruktorom poè. hodnoty
			</code>
			<br>Pri automatickej inštanciácii triedy sa vytvorí v <b>zásobníku</b> automatická premenná, do ktorej sa uloí vygenerovaná automatická inštancia triedy T. 
			Inštancia triedy je iniicalizovaná samoèinne volanım konštruktorom, ktorı je buï bezparametrickı, alebo parametrickı.
			<br>Prístup ku polokám triedy:
			<br>Samozrejme mimo triedy budeme vidie len objekty popísané v èasti <b>public</b>
			<br>x.zapis(3); &nbsp; &nbsp; //nastaví studentovi rocnik na hodnotu 3.
		<dt>Statická inštanciácia triedy
		<dd>Napr. 
			<code>
			<br>static Student x; //vytvorí studenta a dáta nie sú inicializované
			<br>static Student x("Ján", "Rychlı", 1, 'D'); //vytvorí studenta a nastaví explicitnım konštruktorom poè. hodnoty
			</code>
			<br>V podstate je to ako predošlı prípad, len nie je v zásobníku a tento objekt "ije" poèas celého behu programu.
		<dt>Dynamická inštanciácia triedy
		<dd>Napr. 
			<code>
			<br>Student *x = new Student; //vytvorí studenta a dáta nie sú inicializované
			<br>Student *x = new Student("Ján", "Rychlı", 1, 'D'); //vytvorí studenta a nastaví explicitnım konštruktorom poè. hodnoty
			</code>
			<br>Príkaz vytvorí objekt Student v halde a jeho adresu potom zapíše do premennej x. Premenná bude "ivá" pokia¾ ju program príkazom z pamäte neuvo¾ní.
			<br><b>Uvo¾nenie z pamäte:</b>
			<br>Napr.
			<code>
			<br>delete x; &nbsp; &nbsp; //zruší premennú študent v halde (adresa v x stále ukazuje na tú pamä, ale tá u nie je chránená)
			</code>
			<br>je odporúèané po príkaze delete zapísa do x hodnotu NULL
			<br><br><b>Prístup ku polokám triedy:</b>
			<br>Samozrejme mimo triedy budeme vidie len objekty popísané v èasti <b>public</b>
			<br>x->zapis(3); &nbsp; &nbsp; //nastaví studentovi rocnik na hodnotu 3
			<br>(*x).zapis(3); &nbsp; &nbsp; //nastaví studentovi rocnik na hodnotu 3
			
		</dl>	
	<dt>Úlohy
	<dd><ul><li>vytvor triedu bod s polokami
				<br>x,y ... karteziánske súradnice v rovine
				<br>r,uhol ... polárne súradnice v rovine (uhol v stupòoch)
				<br>prièom ak mením karteziánske polárne sa automaticky prerátajú a tie ak zmením polárne prerátajú sa karteziánske
				<br>pomôcka: uhol vypoèítame 180*atan2(y,x)/pi ... vráti uhol od -180 po 180
				<br>definuj metody na vypis_polar, vypis_kartez, napln_polar, napln_kartez
				<br>konštruktor bod(x,y), bod(x,y,'k'), bod(r,uhol,'p'), bod() ... vynuluje vsetky data
				<br>vytvor dynamickú inštanciu triedy s nasledovnımi funkciami:
					<div style="border-width:3;border-style:outset;width:600px;margin:10px">
				  	<div align="right" style="background-color:#3366ff; width:600px; padding:0;border-width:0;">
				  	<img src="../obr/krizik.jpg" width="70px" height="22px" border="0" alt="" style="margin:0">
   					</div>
					<div style="background-color:silver; width:600px;">
					<table rules="cols" frame="void">
					<tr><td>
					<br><h4 align="center">Práca s triedou bod</h4>
					<br> 
					x <input type="Button" value="Vstup karteziánske" onclick="inkart()"> &nbsp; &nbsp;<input type="Button" value="Vstup polárne" onclick="inpol()">
					<br><input type="text" value="5"    style="width:100px; margin:20px;" id="in1"> 
					<input type="text" value="5"    style="width:100px; margin:20px;"  id="in2"> 
					<hr>
					<h4 align="center">Vıstup</h4>
					<input type="Button" value="Vıstup karteziánske" onclick="outkart()"> &nbsp; &nbsp;<input type="Button" value="Vıstup polárne" onclick="outpol()">
					<br><input type="text" value="?"    style="width:100px; margin:20px;" id="out1" readonly> 
					<input type="text" value="?"    style="width:100px; margin:20px;" id="out2"  readonly> 
					<td valign="top"><br><h4 align="center">Trieda<br>stav premennıch</h4>
					<br> x: <input type="text" value="0" style="width:100px; margin:5" id="x1">
					<br> y: <input type="text" value="0" style="width:100px; margin:5" id="y1">
					<br> r: <input type="text" value="0" style="width:100px; margin:5" id="r1">
					<br> u: <input type="text" value="0" style="width:100px; margin:5" id="u1">
					</tr>
					</table>
					</div></div>
				<li>Vytvor triedu <b>stack</b> na úloisko pre celé èísla s èlenskımi funkciami push(), pop(), bool empty() 
		</ul>	
	<dt>Poznámka
	<dd>Je monos "krátke" funkcie priamo definova vnútri triedy (namiesto hlavièky), èo má ten efekt, e sa tieto funkcie chovajú ako makro.			
</dl>
</body>
</html>

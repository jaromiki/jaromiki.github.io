<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	 <title>Èasovaè a dialógy</title>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
 	 <meta name="Content-language" content="sk">	
	  <LINK href="../css/style.css" type="text/css" rel=stylesheet>
</head>

<body>
<h3>Dialógové okná - Save</h3>
Vo Win máme štandartné prostriedky na vo¾bu niektorıch prostriedkov - volajú sa dialógové okná.				 
		<br>Dialógové okná sú prostriedky Windows na prácu s 
		<br><font color="Blue">tlaèiaròou</font> - chceme aby uívate¾ zvolil tlaèiareò, alebo ju nastavil
		<br><font color="Blue">súbormi</font> - chceme aby uívate¾ zvolil súbor na naèítanie alebo zápis
		<br><font color="Blue">adresármi</font> - chceme aby uívate¾ zvolil aktívny disk, adresár
		<br><font color="Blue">farbami</font> - chceme aby uívate¾ vyberal aktívnu farbu
		<br><br>
<dl>
	<dt class=main>SaveDialog
	<dd>Toto dialógové okno pouijeme, ak chceme aby uívate¾ zapísal nejakı súbor na disk a chceme mu umoni
		zvoli si disk, prieèinok a tie meno súboru. Tento dialóg ale súbor nezapisuje, len umoní nám postupom
		benım vo Win zvoli si meno a prieèinok. Dialógové okno <b>Save</b> nájdeme na karte <b>Dialogs</b>,
		vloíme ho do nášho formulára. Ide o nevizuálny objekt a tak umiestnenie v okne nemá vplyv na pouitie.
		Po vloení do formulára získame funkciu <b>SaveDialog1.execute</b>, ktorá vytvorí dialógové okno na zápis súboru,
		ktoré nám umoní súhrnne zada 
		<ul><li>cestu, kde chceme súbor zapísa
			<li>meno súboru - FileName
		</ul>
		<br>a v object inspector alebo príkazmi mono pred zavolaním okna nastavi nejaké vlastnosti
		<ul><li>filter - jeden alebo viacero filtrov, ktoré vyfiltrujú zobrazované súbory v prechádzanıch prieèinkov
			<li>FilterIndex 
			<li>InitialDir
			<li>DefaultExt
		</ul>	
	<dt>Execute
	<dd>- základná funkcia objektu, ktorá vytvorí na obrazovke okno cez ktoré bude
		komunikova s uívate¾om. V tomto okne je vstupnı riadok kam zapisujeme názov 
		súboru (plati pre zápis) a dve tlaèítka OK a Storno.	
		Funkcia nadobúda logickú hodnotu TRUE - ak uívate¾ stlaèí OK a FALSE ak stlaèí
		Storno alebo okno len zavrie. Ak stlaèíme OK meno zvoleného súboru (celé meno aj 
		s cestou) sa zapíše do vlastnosti <b>FileName</b>. Èo je nepríjemné zmení nám to aj 
		aktívny adresár, napr. ak otvárame súbory z adresára v ktorom máme program,
		po OpenDialogu sa presunieme inam a súbory naèítavané bez dialógu u nemusíme nájs.
		Ak vo vlastnosti Options nastavíme vlastnos <font color="Green">ofNoChangeDir</font> na True 
		tak po stlaèení Enter sa aktuálny adresár vráti na hodnotu pred volaním okna.	
		(sú príkazy na zisovanie akt. adresár i jeho menenie - pozri kapitolu "adresár".)
	<dt><font color="Green">FileName</font> 
	<dd>- je typu TfileName, èo je vlastne string, ktorı obsahuje celú cestu a meno súboru.
	<dt><font color="Green">Filter</font>
	<dd>- je moné predvoli nieko¾ko filtrov, ktoré si uívate¾ môe aktivova tım, e 
		ich navolí. Ak chceme popísa filtre nájdeme vlastnos Filter klikneme na ... a 
		do riadkov zadávame filtre.
		<br>V¾avo popis (napr. Textové subory) a vpravo zadáme filter (napr. *.txt;*.602) 
	<dt><font color="Green">FilterIndex</font>
	<dd>- ak máme naklepanıch viacero filtrov vo vlastnosti "Filter" je tu moné zada
		èíslo filtra, ktorı bude implicitne aktívny (uívate¾ si to môe prepnú)
	<dt><font color="Green">InitialDir</font>
	<dd>U názov všetko povedal
				 
	<dt><font color="Green">DefaultExt</font>
	<dd>- štandartná koncovka súboru pre zápis sôboru. Ak uívate¾ zadá názov s inou príponou 
		ako je tu uvedená alebo nedá iadnu je ku menu pripojená (s bodkou) táto štandartná prípona.
	<dt>Pouitie
	<dd>Tu je ukázané ako poui SaveDialog napr. pri zápise obsahu Mema na disk
		<br>Vytvoríme nasledovnı formulár.
	<div style="border-width:3;border-style:outset;width:450px;margin:10px;background-color:#dddddd;">
   <div align="left" style="background-color:#3366ff; width:450px; padding:0;border-width:0;color:white">Form1</div>
   <div style="background-color:#dddddd; width:450px;">
 	 <table><tr><td><textarea rows="5" >Memo1</textarea>
	 			<td><img src="save.JPG" width="30" height="31" border="0" alt=""><br><br>
					<input type="Button" value="Save"><br>
	</table>
	</div></div>				
	<br>Program na obsluhu tlaèídka by mohol by nasledovnı:
	<div style="border-width:3;border-style:outset;width:690px;margin:10px;background-color:#dddddd;">
   		<div align="left" style="background-color:#3366ff; width:690px; padding:0;border-width:0;color:white">Unit1.pas
   		</div>
   		<div style="background-color:#dddddd; width:690px;" >
   		<div style="margin:10px">
<pre>
void __fastcall TForm1::Button1Click(TObject *Sender)
{
  if (SaveDialog1.Execute) Memo1->Lines.SaveToFile(SaveDialog1.FileName);
  else ShowMessage("Zápis súboru bol zrušenı uívate¾om");
end;
</pre>	
	</div></div></div>	
		<dt class=second><font size="+1" color="red">Príklady na precvièenie:</font>
			<dd><table cellspacing="20"><tr><td>
				<img src="../obr/ktstrofa.wmf" border="0" alt="" height="50">		
   				<td>1. Vytvor nasledovnı program
				<br><a href="dialog1.exe">stiahnu</a>		
   				<td>2. Vytvor nasledovnı program
				<br><a href="dialog2.exe">stiahnu</a>		
				
				</table>		
	</dl>
</dl>

</body>
</html>

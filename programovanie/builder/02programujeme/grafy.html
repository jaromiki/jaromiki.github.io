<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
<LINK href="../css/style.css" type="text/css" rel=stylesheet>	
</head>

<body>
<h3 class=main>Grafy</h3>
Nech je daná mnoina A. Kadú reláciu H:A->A budeme nazıva graf. Prvky mnoiny A nazıvame <font color="Red">vrcholy</font>
a usporiadanú dvojicu [x,y] patriacu do H nazıvame <font color="Red">hrana</font>.
<h3 class=main>Pojmy</h3>
<dl>
	<dt><font color="Red">Grafická reprezentácia grafu</font>
	<dd>Graf môeme znázorni pomocou mnoiny bodov v rovine - znázornené ako krunice - pospájanıch úseèkami.
	<img src="obr-grafy/obr1.bmp" border="0" alt=""  align="bottom" hspace="220" vspace="5"><br>
	<dt class=second>Orientovanı graf
	<dd>Graf H nazveme neorientovanı práve vtedy keï, pre všetky [x,y] z H plati: [y,x] je tie z R
	inak ho nazıvame orientovanı. Orientovanı graf zakres¾ujeme pomocou orientovanıch úseèiek.
	<img src="obr-grafy/obr2.bmp" border="0" alt=""  align="bottom" hspace="220" vspace="5"><br>
	<dt class=second>Cesta z vrcholu a<sub>1</sub> do vrcholu b<sub>1</sub>
	<dd>Hovoríme, e v grafe H existuje cesta z a1 do b1 práve vtedy keï, existuje postupnos hrán z H:
		h1=[a<sub>1</sub>,a<sub>2</sub>], h2=[a<sub>2</sub>,a<sub>3</sub>], h3=[a<sub>3</sub>,a<sub>4</sub>]
		, ...hn=[a<sub>n</sub>,b<sub>1</sub>]</dd>
	<dt class=second>Súvislı graf
	<dd>Graf H nazveme súvislı práve vtedy keï, sa z kadého vrcholu existuje cesta do kadého vrcholu grafu.
	<dt class=second>Stupeò vrchola
	<dd>Poèet hrán vychádzajúcich z vrchola nazıvame stupeò vrchola</dd>
	<dt class=second>Krunica
	<dd>Neorientovanı súvislı graf nazveme krunicou práve vtedy, keï stupeò kadého vrcholu grafu je 2.</dd>	
	<dt class=second>Kostra
	<dd>Súvislı graf, ktorı neobsahuje krunicu nazıvame kostra grafu. 
		<br>Z kadého súvislého grafu mono vybra kostru - vynechaním nieko¾kıch hrán</dd>	
	<dt class=second>Ohodnotenı graf
	<dd>Nech hrana grafu je trojica [a1,a2,r], kde a1,a2 patrí do A a r je kladné reálne èíslo.</dd>	
		Takto urèenı graf nazıvame ohodnotenı graf a èíslo r nazıvame hodnota hrany.
	<dt class=second>Minimálna kostra
	<dd>Minimálnou kostrou grafu bude kostra grafu s najmenším súètom hodnôt hrán.</dd>	
</dl>
<h3 class=main>Reprezentácia grafu v poèítaèi</h3>
<dl>
	<dt class=second>Údaje na disku
	<dd>Najèastejšie bıva nasledovná štruktúra:
		<table border="1">
		<tr><td>pu</td><td colspan="2">pocet uzlov</td></tr>
		<tr><td>x1 y1</td><td>súradnice prvého uzla</td><td rowspan="4" width="30%">slúi len na vykreslenie grafu</td></tr>
		<tr><td>x2 y2</td><td>súradnice druhého uzla</td>
		<tr><td>...</td><td>...</td></tr>
		<tr><td>xpu ypu</td><td>súradnice posledného uzla</td></tr>
		<tr><td>ph</td><td colspan="2">poèet hrán</td></tr>
		<tr><td>a1 b1 r1</td><td rowspan="4" width="30%">ÈísloUzlaOdkade<br>ÈísloUzlaKam<br>Hodnota</td>
       		<td rowspan="4">vrcholy sú urèené poradovımi èíslami zo zoznamu vrcholou
	<tr><td>a2 b2 r2<td>
	<tr><td>...</td></tr>
	<tr><td>aph bph rph</td></tr>
	</table>
Prvı ståpec tabu¾ky urèuje èísla v textovom súbore
<pre><code>
Pr.
12
25 100
50 75
125 75
115 65
135 65
160 100
135 125
150 140
120 140
50 125
65 140
35 140
13
1 2 1
2 3 2
3 4 4
3 5 1
3 6 2
6 7 4
3 7 1
7 8 2
7 9 4
1 10 1
10 11 2
10 12 4
2 12 2</code></pre>
Naèítajte a vykreslite tento graf.
</dd>
<dt class=main>H¾adanie minimálnej kostry
<dd>Je zrejmé, e ku kadému grafu mono nájs minimálne jeden podgraf, ktorı je kostrou.
	Dá sa pomerne ¾ahko dokáza, e na h¾adanie minimálnej kostry mono poui nasledovné intuitívne postupy:
	<ol>
	<li>Z grafu budeme vynecháva hrany s najväèším ohodnotením ale len tie, ktorıch vynechaním sa neporuší súvislos. Keï sa u iadna hrana nedá vynecha je tvorba min. kostry ukonèená.
	<li>Zoradíme si hrany grafu vzostupne. Prejdeme cyklom tento zoradenı zoznam a pri kadej hrane rozhodneme, èi ju berieme do nového grafu - kostry. Hranu zoberieme ak nevytvára s u vybranımi krunicu.
	<li>Táto metóda je modifikáciou 2. metódy. Do kostry vyberieme minimálnu hranu grafu. Zo všetkıch hrán grafu,
	ktoré majú vlastnos, e jeden vrchol majú u vo vytváranej kostre a druhı nie, nájdem minimálnu a pridám do kostry. Postup
	opakujem pokia¾ nie sú všetky uzly u v kostre zahrnuté. Tento postup sa dá poui len na súvislé grafy. 
	</ol>
	Ïalej sa budeme venova len postupu 3. 
	<br>Nech v pu je zapísanı poèet uzlov
	<br>Majme vytvorenú maticu susednosti Graf[1..pu,1..pu] celıch èísel
	<br>Kostru vytvárajme v matici susednosti Kostra[1..pu, 1..pu] 
	<br>Èi je vrchol u v kostre bude v poli Kuzly[1..pu] 0=uzol nie je v kostre, 1=uzol je v kostre
	<br>Celı algoritmus mono schématicky zapísa takto:
	<ul type="circle">
	<li>Nájdi minimálnu hranu a zapíš ju do kostry
	<li>Oba vrcholy oznaè 1 - sú v kostre
	<li>Opakuj (pu-2) krát <ul type="disc">
	                        <li>nájdi minimálnu hranu s jednım vrcholom v kostre
							<li>pridaj ju do kostry
							<li>oba vrcholy oznac jednotkou - sú v kostre
                           </ul> 
	</ul>
	<dl>
	<dt>Úloha<dd>Pre graf danı textovım súborom vytvor kostru a vykresli ju inou farbou cez graf.
	</dl>
	
	<dt class=main>Test súvislosti grafu
	<dd>V praxi sa èasto stretávame s úlohou zisti, èi graf je súvislı. Tu sa obmedzíme len na neorientované
		grafy, ale postup mono aplikova aj na orientované.
		<br>Pre neorientované grafy platí: Graf je súvislı &lt;=&gt; keï sa z uzla 1 dá dosta do všetkıch ostatnıch vrcholov grafu.
		<br>Postup ako prešetríme, èi existuje cesta z uzla 1 do všetkıch ostatnıch.
		<br>Budeme k tomu potrebova
		<ul><li>maticu susednosti Graf[1..pu,1..pu]
		<li>pole Pom[1..pu], kde kadá poloka môe by
			<ul>
				<li>0 ...na uzol so ešte nenarazil
				<li>1 ...do uzla vedie nejaká cesta, ale ešte treba vybavi jeho susedov
				<li>2 ...do uzla vedie cesta a aj jeho susedov som u vybavil
			</ul>
		<li>Pole Zoznam[1..pu], kde budú za sebou napísané tie uzly, ktoré majú v Pom èislo 1.
		<li>Premenná pocet1, kde budem ma zapísanı poèet uzlov, ktoré majú v Pom èíslo 1.
		</ul>
		<br>Inicializaèné hodnoty v poli Pom budú všade 0, len v poloke 1 bude 1.
		<br>Inicializaèné hodnoty v poli Zoznam budú v poloke 1 bude zapísaná 1, iné nás nezaujíma
		<br>Inicializaèná hodnota v premennej Pocet1 bude 1
		<br><br>Opakuj pokia¾ Pocet1&gt;0
		<ul>
		<li>Uzol Zoznam[Pocet1] vyhodíme zo zoznamu - tak, e Pocet1 zmenšíme o 1 a tomuto uzlu v Pom zapíšeme 2 
		<li>Namiesto vyhodeného uzla do zoznamu pripíšeme priamych susedov tohto uzla (z matice susednosti), ktorí
			v Pom majú zatia¾ 0. Všetkım došlım uzlom v Pom zapíšeme 1.
		</ul>
		Nakoniec skontrolujeme pole Pom èi v òom ostali ešte nejaké nuly, ak nie je graf súvislı.
		<br>V prípade ak sme natenko s pamäou môme pole Zoznam vynecha, ale zaplatíme väèším èasom vıpoètu, musíme v poli Pom tıch jednotkárov h¾ada .

<dt class=main>Zistenie minimálnej cesty v grafe
<dd>Táto úloha zo všetkıch tıch, ktoré sme doteraz spomínali, má v praxi najväèšie praktické vyuitie.
	<br>Máme dané:
	<br>maticu susednosti Graf[1..pu,1..pu]	
	<br>štartovı uzol cesty Uzol1 a koneènı uzol cesty Uzol2
	<br>Existuje ve¾a metód na h¾adanie minimálnej cesty ale ku najrıchlejším metódam patrí
	tkz. Dijkstrov algoritmus, ktorı si teraz povieme.
	<br>Budeme ešte potrebova:
	<br>pole Pom[1..pu], kde kadá poloka môe by
	<ol  start="0">
	<li>na uzol so ešte nenarazil
	<li>do uzla vedie nejaká cesta, ale ešte neviem, èi je minimálna
	<li>údaj, ktorı je v poli dåka u tohto uzla je definitívny - minimálny
	</ol>
	<br>pole Dlzka[1..pu] kde bude pre kadı uzol zapísaná zatia¾ nájdená minimálna cesta z uzla Uzol1
	<br>pole Odkade[1..pu], kde bude zapísané z ktorého uzla som sem prišiel pri tejto nájdenej dåke cesty.
	<br>Inicializaèné hodnoty v poli Pom budú všade 0, len v poloke Uzol1 bude 1. 
	<br>Inicializaèné hodnoty v poli Dåka budú všade "nekoneèno" len v riadku Uzol1 bude 1
	<br>Opakuj pokia¾ v Pom v riadku Uzol2 je èíslo rôzne od 2
	<ul type="disc">
	<li>nájdi zo všetkıch jednotkovıch uzlov ten ktorı má najmenšiu vzdialenos od Uzol1 - U1. Tento zmeníme na d
	<li>Tento zmeníme na dvojkovı a všetkıch jeho nedvojkovıch susedov oznaèíme za jednotkovıch a upravíme im
	dåky - vzdialenosti - Dlzka[u]:=min(Dlzka[u],dlzka[U1]+vzd(u,U1)). Ak sa uzlu mení jeho dåka 
	zapíšeme do po¾a Odkade v riadku toho uzla uzol U1
	</ul>
	Je jasné, e v kadom behu cyklu pribúda jedna dvojka. Program môe skonèi tım, e v Pom[Uzol2] sa 
	objaví 2 alebo sa "minú" jednotky v poli Pom, èo znaèí, e neexistuje cesta z Uzol1 do Uzol2.
	Tımto sme vytvorili vzdialenosti uzlov od UZOL1. Navyše v kadom uzle vieme ako sme sa doòho dostali
	- pomocou po¾a Odkade. Teraz môme zaèa cestu "odzadu" vypisova Uzol2,...Uzol1.
	<br>Pre neorientované grafy je teda vıhodné h¾ada radšej cestu opaènú - z Uzol2 do Uzol1 aby sme
	ju potom vypisovali pekne odpredu.   
<dt class=main>Kreslenie jednım ahom
<dd>Tento problém sa tie volá problém cestujúceho, ktorı chce prejs všetky trasy grafu ale práve raz.
	Urèite ste sa stretli s problémom, nakresli nasledovnı domèek jednım ahom.
	<img src="obr-grafy/obr3.bmp" width="186" height="130" border="0" title="Spomienka na materskú školu" alt=""> 
	<br>Najprv nieko¾ko tvrdení:
	<ul>
	<li>Kadı graf má párny poèet vrcholov s nepárnym stupòom
	<li>Graf sa dá nakresli jednım ahom &lt;=&gt; poèet vrcholov s nepárnym stupòom je maximálne 2
	<li>Ak graf nemá vrcholy s nepárnym stupòom môeme zaèa v ¾ubovo¾nom vrchole a ¾ubovo¾nou hranou
	<li>Ak graf nemá vrcholy s nepárnym stupòom kreslenie skonèí vdy v tom istom uzle z ktorého
		sme zaèali kreslenie
	<li>Ak graf má vrcholy s nepárnym stupòom, musíme kreslenie zaèa vo vrchole s nepárnym stupòom
	<li>Ak graf má vrcholy s nepárnym stupòom kreslenie skonèí vdy v tom druhom uzle, ktorı má 
		nepárny stupeò
	<li>Po "prvom" pokuse nakresli graf jednım ahom, môu nasta prípady
	    <ul>
	    <li>graf je komplet nakreslenı
		<li>zvyšné hrany s uzlami tvoria grafy u len s párnymi vrcholmi
        </ul>
	</ul>
	Èitate¾ s matematickımi zá¾ubami si iste tieto tvrdenia ¾ahko dokáe, pre ostatnıch sú pokusy s kreslením
	"domèeka", ¾ahko sa presvedèíme, e k úspechu vedie len zaèiatok vo vrchole 4 resp. 5. 
	<br>Hrubá schéma algoritmu:
	<ol>
	<li>Zistíme ko¾ko vrcholov je nepárneho stupòa a ak isú dva zapamätáme si jeden z nich 
	<li>Ak je nepárny vrchol zaèneme v òom, inak zaèneme napr. v uzle 1
	<li>V kadom vrchole si zvolíme náhodnı smer a kreslíme pokia¾ nevojdeme do uzla z ktorého
		u cesta nevedie.
	<li>Opätovnım prechodom po nájdenej ceste h¾adáme vrcholy z ktorıch ešte vychádzajú nejaké 
		cesty, ktoré sme ešte neprešli - teda vrcholy kde sme mali odboèi ale neurobili sme to.
	<li>Ak takı vrchol nájdeme (oznaème ho u1), vyrazíme z neho po tejto ceste. Po prejdení nieko¾ko vrcholov sa opä
		musíme vráti do tohto uzla (porozmıš¾ajte preèo). Celú túto "novú" trasu popísanú postupnosou 
		vrcholov "vsunieme" do "starej" cesty za vrchol u1. Teraz môeme pokraèova v kontrole našej cesty.
	<li>Po kontrole celej cesty je graf komplet prejdenı. 
	</ol>
</dl>	
</body>
</html>

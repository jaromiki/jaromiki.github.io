<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	 <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1250">
	 <meta name="Content-language" content="sk">	
	  <LINK href="../css/style.css" type="text/css" rel=stylesheet>
	<title>Štruktúry - záznamy</title>
</head>

<body>
<dl><dt><font size="+1" color="Blue">Štruktúrovanı typ - záznamy</font>
	<dd>Záznamy sa tu volajú štruktúry a je viac moností ako ich zadeklarova. 
		Štruktúry sú nehomogénne - kadı prvok môe by iného typu a má svoje meno.
		<ol>
		<li>Nepomenovaná štruktúra
			<br> &nbsp; struct { int vyska;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp; int vaha;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp;} jano, peter, duro
			<br>vytvorí 3 premenné typu struc s polokami vyska, vaha
			<br>iadna ïalšia premenná nemôe by toho typu, lebo štruktúra nemá meno
 		<li>Pomenovaná štruktúra
			<br> &nbsp; struct clovek { int vyska;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp; int vaha;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp; } jano, peter
			<br> &nbsp; struc clovek duro //takto to muselo by v klasickom C
			<br> &nbsp; clovek duro //takto to staci zada v C++
			<br>vytvorí 3 premenné typu struc s polokami vyska, vaha
			<br>štruktúra má meno a môu vznika ïalšie premenné toho typu, pred kadım názvom štruktúry musí by slovo struc
		<li>Vytvorenı typ, nepomenovanı
			<br> &nbsp; typedef struct  { int vyska;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp; int vaha;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp;} clovek
			<br> &nbsp;  clovek jano, peter, duro
			<br>vytvorí 3 premenné typu struc s polokami vyska, vaha
			<br>štruktúra má meno ale vo vnútri štruktúry ho ešte nepozná, pred kadım názvom štruktúry sa u nepíše slovo struc
		<li>Vytvorenı typ, pomenovanı
			<br> &nbsp; typedef struct CLOVEK { int vyska;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp; int vaha;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp; struct CLOVEK *dalsi;
			<br> &nbsp;  &nbsp;  &nbsp; &nbsp;  &nbsp;  &nbsp;  &nbsp;} clovek
			<br> &nbsp;  clovek jano, peter, duro
			<br>vytvorí 3 premenné typu struc s polokami vyska, vaha
			<br>štruktúra má meno platné vnútri - CLOVEK, a meno platné navon - clovek
		</ol>
		My budeme vıhradne pouíva 3. alebo 4. syntax, 3. je pascalu najbliší.
		<br>Ak chceme pouíva konštruktor pouijeme 1. syntax alebo 4.
		<br>Pozn.:
		<br> &nbsp; - funkcia môe by typu struct
		<br> &nbsp; - parametre funkcie môu by typu struct
		<br> &nbsp; - premenná typu struct môe by na ¾avej strane priradenia
		<br>Prístup ku polokám:
		<br> &nbsp; - statické - jano.vyska
		<br> &nbsp; - dynamické - (*jano).vyska, alebo jano -&gt;vyska
		<dl>
		<dt><b>Inicializácia:</b>
		<dd>podobne ako iné premenné je moné aj štruktúry pri vzniku nastavi nejakımi poèiatoènımi hodnotami
		<br> &nbsp; - poloky štruktúry nemono inicializova v popise štruktúry(priradenim hodnoty) 
		<br> &nbsp; - celú štruktúru mono inicializova vymenovaním hodnôt v zátvorkách {}
<div style="background-color:silver; width:800; padding:10;border-width:3;border-style:outset">
<pre>typedef struct
{double a; int b;}dvojica;    //tu v strapatej zátvorke nemono parametre inicializova
dvojica a={1.5,5}; //a.a sa nastavi na 1.5, a.b sa nastaví na 5
dvojica c={3}; //c.a sa nastaví na 3.0, c.b sa nastaví na 0
dvojica d;     //d.a sa nastaví na 0.0, d.b sa nastaví na 0 
</pre></div>
		
		<dt><b>Konštruktor:</b>
		<dd>Pouitie konštruktora je druhou monosou ako predpísa parametrom vznikajúcej štruktúry poèiatoèné hodnoty,
			navyše jeho pouitie je rozsiahlejšie a preto je aj viac pouívanı.
			<br>Myšlienka je, e vytvoríme nejakú špeciálnu funkciu, ktorá vie nastavi parametre štruktúry a nejakım spôsobom
			sa zavolá pri vytváraní štruktúry v pamäti.
		<br>Takáto funkcia sa volá konštruktor - vie vytvori konštantnú štruktúru s urèenımi poèiatoènımi hodnotami parametrov štruktúry,
		<br>Funkciu popíšeme v popise štruktúry, jej názov musí by rovnakı ako je názov štruktúry
		<br>Môme vytvori aj viacero konštruktorov, ktoré sa budú líši poètom parametrov alebo typom parametrov
		<br>ak pouívame konštruktor nepouívame pri vytváraní premennej inicializáciu pomocou strapatıch zátvoriek
		<br>Postup
		<br>Pri tvorbe typu štruktúra najprv popíšeme/zadefinujeme poloky štruktúry a potom pomocou názvu štruktúry popíšeme
			jeden alebo viac konštruktorov
<div style="background-color:silver; width:900; padding:10;border-width:3;border-style:outset">
<pre>typedef struct Ta {               //len vytvara typ nie premennú, názov štruktúry (Ta) uvedieme aj pred zátvorkou
  int x,y;        //parametre štruktúry
  Ta(){x=y=0;}; //konštruktor ktorı sa zavolá, ak pri vytvorení premennej neuvedieme parameter 
  Ta(int a) {x=y=a;}; //konštruktor ktorı sa zavolá,ak pri vytvorení premennej vedieme 1 parameter
  Ta(int a,int b) {x=a; y=b;} //konštruktor ktorı sa zavolá,ak pri vytvorení premennej vedieme 2 parametre
}Ta;
 int main(int argc, char* argv[])
{    int c=5;
     Ta a1(1,2);  Ta a2(5); Ta a3(); Ta a4;//vytvorí premenné a1,a2,a3,a4, kadá má iné hodnoty 
}
	//premenná a3 je zadaná nekorektne, ak konštruktor nemá parametre zátvorky nepíšeme		
			</pre></div>
	<dt>Pouitie konštruktora
	<dd>Pomocou koštruktora mono vytvori korektnú hodnotu/konštantu daného typu napr. do premennej a1 zapíšeme novú hodnotu 
	a1=Ta(3.14, 5);  
	<dt>Ukáka
	<dd>Vytvoríme program na poèítanie so zlomkami
	<br>vytvoríme štruktúru zlomok s dvoma polokami citatel, zlomok - obe int
	<br>vytvoríme funkciu sucet() typu zlomok z dvoma parametrami typu zlomok
<div style="background-color:silver; width:850; padding:10;border-width:3;border-style:outset">
<pre>#include &lt;iostream&gt;
using namespace std;
typedef struct zlomok {               //len vytvara typ nie premennú
  int citatel,menovatel;
  zlomok(){citatel=menovatel=1;}         //ak pri vytvorení premennej neuvedieme parameter
  zlomok(int a) {citatel=a;menovatel=1;} //ak pri vytvorení premennej vedieme 1 parameter
  zlomok(int a,int b) {citatel=a; menovatel=b;} //ak pri vytvorení premennej vedieme 2 parametre
}zlomok;

int nsd(int a, int b)
{while (a!=b) a&gt;b ? a-=b: b-=a;
 return a;
}

zlomok sucet(zlomok x, zlomok y)
{ zlomok p;
  p.menovatel=x.menovatel*y.menovatel;
  p.citatel=x.citatel*y.menovatel + x.menovatel*y.citatel;
  int n =nsd(p.citatel, p.menovatel);
  p.citatel/=n; p.menovatel /=n;
  return p;
}

 int main(int argc, char* argv[])
{    randomize();
     zlomok a(1+random(9),1+random(5)), b(1+random(9),1+random(5)),c;  //zlomky a,b majú náhodné hodnoty
     cout &lt;&lt;"zlomok a: "&lt;&lt;a.citatel&lt;&lt;"/"&lt;&lt;a.menovatel&lt;&lt;endl;
     cout &lt;&lt;"zlomok b: "&lt;&lt;b.citatel&lt;&lt;"/"&lt;&lt;b.menovatel&lt;&lt;endl;
     cout &lt;&lt;"zlomok c: "&lt;&lt;c.citatel&lt;&lt;"/"&lt;&lt;c.menovatel&lt;&lt;endl;
     c=sucet(a,b);
     cout &lt;&lt;"a+b="&lt;&lt;c.citatel&lt;&lt;"/"&lt;&lt;c.menovatel&lt;&lt;endl;

        system("pause" );
        return 0;
}
</pre></div>

		<dt>Špeciality:
		<dd> &nbsp; - je moné zadefinova aj bitové štruktúru
		<br> &nbsp; typedef {
		<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int b1:1;
		<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int b2_5:4;
		<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; int b6_8:3;
		<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}
		<br>
		<dt>Domáca úloha:
		<dd>Napíšte program na vıpoèet nasledovnıch vırazov
		    <br>a/b*(c/d+e/f)
		    <br>prièom vısledok bude v tvare zlomku a zlomky a/b, c/d, e/f naplòte náhodnımi celımi nenulovımi èíslami	
<form id="Submit" action="add.php" enctype="multipart/form-data" method="post">
<br>Zatia¾ zaslané súbory:
<p style="background-color: Silver; width: 50%; padding:10px; border: thin inset;color:black">  
<link rel=”stylesheet” type=”text/css” href=”xxx.css”> 
<iframe src="/programovanie/builder/02programujeme/zoznam.txt"  width="100%" height="240" frameborder="yes"></iframe>
<br>
</p>
<br>
Nájdi na svojom PC súbor na odoslanie a stlaè odošli, 
<br>systém ti oznámi èi sa prenos podaril.<br>
	<br><input type="File" name="subor" size="60"><br>
    <br><input type="Submit" value="Odošli">
<br>
</form>

		<br>Úlohy:
		<ol>
		<li>Vytvorte štruktúru komplex, a vytvorte podprogramy na abs, súèet, rozdiel, súèin, podiel a tlaè
		</ol>

<dt class="main" >Prekrıvanie operátorov
<dd>V jazyku C++ môme program nauèi pouíva operátory (napr. +,-,*,/) aj s prvkami s ktorımi bene tieto operátory nefungujú 
	(napr. polia štruktúry). Èie môme náš program nauèi pouíva operátor + so zlomkami. 

	<br>Teda podobne ako môu existova viaceré funkcie s rovnakım názvom, ktoré sa líšia poètom, resp. typom parametrov 
	môu existova aj operátory, ktoré pod¾a argumentov môu kona odlišne (inak funguje + s èíslami inak so zlomkami), 
	navyše môme aj známe operátory predefinova (napr. násobenie èísel bude fungova inak). 
	Našou úlohou teraz bude zavies operátory + - * / aj pre parametre typu zlomok.
	<div style="background-color:silver; width:850; padding:10;border-width:3;border-style:outset">
<pre>#include &lt;iostream&gt;
using namespace std;
typedef struct zlomok {               //len vytvara typ nie premennú
  int citatel,menovatel;
  zlomok(){citatel=menovatel=1;}         //ak pri vytvorení premennej neuvedieme parameter
  zlomok(int a) {citatel=a;menovatel=1;} //ak pri vytvorení premennej vedieme 1 parameter
  zlomok(int a,int b) {citatel=a; menovatel=b;} //ak pri vytvorení premennej vedieme 2 parametre
}zlomok;
zlomok a(1,2),b(2,3),c;
<font color="Blue">  zlomok operator + (zlomok a, zlomok b)        //tu naucime program pouzivat + so zlomkami
                     { zlomok temp;
		       temp.menovatel= a.x * b.x;
		       temp.citatel= a.citatel*b.menovatel + a.menovatel*b.citatel;
		       return temp;
		     } 
  zlomok operator + (zlomok a, int b)        //tu naucime program pripocitat ku zlomku cele cislo
                     { zlomok temp;
		       temp.menovatel= a.x;
		       temp.citatel= a.citatel + a.menovatel*b;
		       return temp;
		     }   
</font>int main()
{ c=a+b;      //  teraz uz mozem priamo spocitavat zlomky, operator = nemusim modifikovat, ten funguje klasicky
  c=a+2;      //  teraz uz mozem priamo pripocitat ku zlomku cislo

  return 0;
}
</pre></div>
  <br><br>Postup je teda úplne analogickı ako pri funkcii.
  <br>sémantika:
  <br>Pri pouití operátora + s parametrami typu zlomok sa zavolá uvedenı blok príkazov. 
  <br>Na operátor + medzi èíslami nemá táto definícia vplyv.
<dt>Domáca úloha:
<dd>Napíšte program na vıpoèet nasledovnıch vırazov
		    <br>d=a*(b+c)   //kde a,b,c,d sú zlomky
		    <br>prièom vısledok bude v tvare zlomku a zlomky a,b,c naplòte náhodnımi celımi nenulovımi èíslami	
<form id="Submit2" action="add2.php" enctype="multipart/form-data" method="post">
<br>Zatia¾ zaslané súbory:
<p style="background-color: Silver; width: 50%; padding:10px; border: thin inset;color:black">  
<link rel=”stylesheet” type=”text/css” href=”xxx.css”> 
<iframe src="/programovanie/builder/02programujeme/zoznam2.txt"  width="100%" height="240" frameborder="yes"></iframe>
<br>
</p>
<br>
Nájdi na svojom PC súbor na odoslanie a stlaè odošli, 
<br>systém ti oznámi èi sa prenos podaril.<br>
	<br><input type="File" name="subor" size="60"><br>
    <br><input type="Submit" value="Odošli">
<br>
</form>
<dt>Pole štruktúr
<dd>V praxi sa èastejšie ako s jednoduchou štruktúrov stretávame s po¾om štruktúr, napr. pole údajov o knihe, zamestnancovi, meste, vırobku, tovare atï. Samozrejme by sme tieto údaje mohli ma v samostatnıch poliach, ale obane by sme ich potom triedili, preskupovali, vyh¾adávali. 
Teraz vytvoríme pole štruktúr pretekárov v skoku do dia¾ky. O kadom pretekárovi budeme evidova <b>štartovné èíslo, skok1 a skok2</b>.
V praxi by sme samozrejme ešte evidovali minimálne meno a skoky by sme klepali pod¾a reálneho priebehu súae, tu skoky nastavíme náhodnımi hodnotami.<br>
<br><b>Deklarácia</b>		
<pre><code>typedef struct sutaz
{ int start_cislo,skok1,skok2;
  sutaz(int a, int b, int c) {start_cislo=a;skok1=b; skok2=c;}
  sutaz() { start_cislo=skok1=skok2=0; }
}sutaz;
sutaz a[100];   //vytvorí 100 premennıch typu sutaz, všetky poloky štruktúry budú vynulované
</code></pre>
<br><b>Naplnenie</b>		
<pre><code>for (int i=0; i<100; i++)
   {  a[i]=sutaz(i,random(200)+500,random(200)+500);
      cout &lt;&lt;a[i].start_cislo&lt;&lt;" "&lt;&lt;a[i].skok1&lt;&lt;"  "&lt;&lt;a[i].skok2&lt;&lt;endl;
   }
</code></pre>
<br><b>Vyhodnotenie-utriedenie</b>		
<br>Ako sme si u pri poli ukázali môme zavola funkciu sort(), kde triedenie zadáme pomocou triediacou funkciou. Tu by triedenie bez
triediacej funkcii spôsobilo chybu, lebo program nevie pouíva operátor &lt;, &gt; s polokami typu sutaz
<pre><code>
int fun (sutaz x, sutaz y)
{ if (max(x.skok1,x.skok2) !=  max(y.skok1,y.skok2) ) return max(x.skok1,x.skok2) >  max(y.skok1,y.skok2);
  else return min(x.skok1,x.skok2) >  min(y.skok1,y.skok2);;
 }
 . . .
   sort (a+0,a+100,fun);
   for (int i=0; i<100; i++)  cout &lt;&lt;i&lt;&lt;"  "&lt;&lt;a[i].start_cislo&lt;&lt;" "&lt;&lt;a[i].skok1&lt;&lt;"  "&lt;&lt;a[i].skok2&lt;&lt;endl;
</code></pre>
<dt>Domáca úloha:
<dd>Napíšte program na vyhodnotenie súae v skoku do dia¾ky pod¾a uvedenıch ukáok, pošli súbor priezvisko.cpp cez túto stránku.
<form id="Submit2" action="add3.php" enctype="multipart/form-data" method="post">
<br>Zatia¾ zaslané súbory:
<p style="background-color: Silver; width: 50%; padding:10px; border: thin inset;color:black">  
<link rel=”stylesheet” type=”text/css” href=”xxx.css”> 
<iframe src="/programovanie/builder/02programujeme/zoznam3.txt"  width="100%" height="240" frameborder="yes"></iframe>
<br>
</p>
<br>
Nájdi na svojom PC súbor na odoslanie a stlaè odošli, 
<br>systém ti oznámi èi sa prenos podaril.<br>
	<br><input type="File" name="subor" size="60"><br>
    <br><input type="Submit" value="Odošli">
<br>
</form>

<dt>Písomná práca - pole štruktúr:
<dd>Napíšte <a href="project1.exe">program</a> na evidenciu údajov o 20-tich uèite¾och jednej nemenovanej skoly
<br>Program v prvom riadku vypíše: Vypracoval: XXXX ZZZZZ
<br>Sledova u kadého uèite¾a budeme
<br>- poradové èíslo - 1 a 20 - <b>PC</b>
<br>- meno uèite¾a - náhodnı text dåky 4 - <b>Meno[5]</b>
<br>- roku narodenia - náhodné èíslo 1970 a 1989 - <b>RokNar</b>
<br>- popularita v percentách - náhodné èíslo 10 a 100 - <b>Popularita</b>
<br><br>Váš program bude obsahova nasledovné:
<br>- definovanie nového typu <b>Tucitel</b> obsahujúcu vymenované poloky 
<br>- vytvorenie premennej <b>ucitel</b> - po¾a aspoò 30-tich poloiek typu Tucitel 
<br>- naplnenie a vıpis prvıch 20-tich poloiek premennej clovek (ako vytvori náhodné meno radšej uvádzam:
<br> <i>ucitel[i].meno[0]= 'A'+random(26);  ucitel[i].meno[1 a 3]= 'a'+random(26); ucitel[i].meno[4]= 0;</i>)
<br>- utriedenie a vıpis po¾a <b>ucitel</b> pod¾a roku narodenia zostupne
<br>-  utriedenie a vıpis po¾a <b>ucitel</b> pod¾a popularity zostupne
<br>- Vıpis uèite¾ov mladších ako 40 rokov s popularitou väèšou ako 50% 

<br><br>- pošli súbor priezvisko.cpp cez túto stránku.
<form id="Submit2" action="add4.php" enctype="multipart/form-data" method="post">
<br>Zatia¾ zaslané súbory:
<p style="background-color: Silver; width: 50%; padding:10px; border: thin inset;color:black">  
<link rel=”stylesheet” type=”text/css” href=”xxx.css”> 
<iframe src="/programovanie/builder/02programujeme/zoznam4.txt"  width="100%" height="240" frameborder="yes"></iframe>
<br>
</p>
<br>
Nájdi na svojom PC súbor na odoslanie a stlaè odošli, 
<br>systém ti oznámi èi sa prenos podaril.<br>
	<br><input type="File" name="subor" size="60"><br>
    <br><input type="Submit" value="Odošli">
<br>
</form>

</dl>

</body>
</html>
